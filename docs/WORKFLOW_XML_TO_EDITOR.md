# XML è½¬ç¼–è¾‘å™¨å·¥ä½œæµè®¾è®¡

## ğŸ“‹ å·¥ä½œæµæ¦‚è¿°

æœ¬å·¥ä½œæµç”¨äºå°†ä»»æ„æ ¼å¼çš„ XML æ–‡ä»¶ï¼ˆå¦‚ã€Šéª‘é©¬ä¸ç æ€2ã€‹è£…å¤‡è¡¨ï¼‰æ™ºèƒ½è½¬æ¢ä¸ºå¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œæ”¯æŒï¼š
- **æ™ºèƒ½ç»“æ„åˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ« XML ç»“æ„ã€åµŒå¥—å…³ç³»ã€å±æ€§ç±»å‹
- **è‡ªåŠ¨ç”Ÿæˆç¼–è¾‘å™¨**ï¼šæ ¹æ®ç»“æ„è‡ªåŠ¨ç”Ÿæˆè¡¨å•å­—æ®µã€éªŒè¯è§„åˆ™ã€ç¼–è¾‘ç•Œé¢
- **æ ¼å¼æ— å…³**ï¼šä¸å±€é™äº XMLï¼Œæ”¯æŒ JSONã€YAML ç­‰ä»»æ„æ ¼å¼
- **AI é©±åŠ¨**ï¼šä½¿ç”¨ GPT Agent è¿›è¡Œæ™ºèƒ½åˆ†æå’Œé…ç½®ç”Ÿæˆ

## ğŸ”— å·¥ä½œæµè¿æ¥å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Parse File â”‚  (è§£ææ–‡ä»¶èŠ‚ç‚¹)
â”‚             â”‚
â”‚  Input:     â”‚
â”‚  XML File   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ [output] â†’ [input]
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analyze XML         â”‚  (åˆ†æ XML ç»“æ„èŠ‚ç‚¹)
â”‚ Structure           â”‚
â”‚                     â”‚
â”‚ åˆ†æ XML ç»“æ„ã€      â”‚
â”‚ æå– Schema         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ [output] â†’ [input]
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Editor     â”‚  (ç”Ÿæˆç¼–è¾‘å™¨é…ç½®èŠ‚ç‚¹)
â”‚ Config              â”‚
â”‚                     â”‚
â”‚ ç”Ÿæˆç¼–è¾‘å™¨é…ç½®ã€      â”‚
â”‚ è¡¨å•å­—æ®µå®šä¹‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ [output] â†’ [input]
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPT Agent           â”‚  (å¯é€‰ï¼šæ™ºèƒ½ä¼˜åŒ–)
â”‚                     â”‚
â”‚ ä¼˜åŒ–ç¼–è¾‘å™¨é…ç½®ã€      â”‚
â”‚ æ·»åŠ éªŒè¯è§„åˆ™         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ [output]
       â–¼
   ç¼–è¾‘å™¨é…ç½® JSON
```

## ğŸ“ è¯¦ç»†èŠ‚ç‚¹é…ç½®

### èŠ‚ç‚¹ 1ï¼šParse Fileï¼ˆè§£ææ–‡ä»¶èŠ‚ç‚¹ï¼‰

**åŠŸèƒ½**ï¼šè§£æä¸Šä¼ çš„ XML æ–‡ä»¶ï¼Œè½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®

**é…ç½®æ­¥éª¤**ï¼š
1. **èŠ‚ç‚¹åç§°**ï¼š`è§£æè£…å¤‡è¡¨`
2. **èŠ‚ç‚¹æè¿°**ï¼š`è§£æã€Šéª‘é©¬ä¸ç æ€2ã€‹è£…å¤‡ XML æ–‡ä»¶`
3. **æ–‡ä»¶è·¯å¾„**ï¼šé€‰æ‹©æˆ–ä¸Šä¼  `SkiOL_arm_armors.xml`
4. **æ–‡ä»¶æ ¼å¼**ï¼š`XML`
5. **è§£æé€‰é¡¹**ï¼š
   - âœ… ä¿ç•™å±æ€§
   - âœ… ä¿ç•™å‘½åç©ºé—´
   - âœ… æ‰å¹³åŒ–ç»“æ„ï¼ˆå¯é€‰ï¼‰

**è¾“å‡ºæ•°æ®ç»“æ„**ï¼š
```json
{
  "hasData": true,
  "data": {
    "Items": {
      "Item": [
        {
          "@attributes": {
            "id": "swordman_bracer",
            "name": "{=armarmor0001}Eastern Swordman Bracer",
            "mesh": "sz_hand_001",
            "culture": "Culture.aserai",
            "weight": "1.3",
            "difficulty": "0",
            "appearance": "1",
            "Type": "HandArmor"
          },
          "ItemComponent": {
            "Armor": {
              "@attributes": {
                "arm_armor": "18",
                "modifier_group": "leather",
                "material_type": "Leather"
              }
            }
          },
          "Flags": {
            "@attributes": {
              "Civilian": "true"
            }
          }
        }
        // ... æ›´å¤š Item
      ]
    }
  },
  "schema": {
    // è‡ªåŠ¨æ¨æ–­çš„ Schema
  }
}
```

---

### èŠ‚ç‚¹ 2ï¼šAnalyze XML Structureï¼ˆåˆ†æ XML ç»“æ„èŠ‚ç‚¹ï¼‰

**åŠŸèƒ½**ï¼šæ·±åº¦åˆ†æ XML ç»“æ„ï¼Œæå– Schemaã€å­—æ®µç±»å‹ã€åµŒå¥—å…³ç³»

**é…ç½®æ­¥éª¤**ï¼š
1. **èŠ‚ç‚¹åç§°**ï¼š`åˆ†æè£…å¤‡è¡¨ç»“æ„`
2. **èŠ‚ç‚¹æè¿°**ï¼š`åˆ†æè£…å¤‡ XML çš„å®Œæ•´ç»“æ„ï¼Œæå–æ‰€æœ‰å­—æ®µå’Œç±»å‹`
3. **åˆ†ææ·±åº¦**ï¼š`å®Œæ•´åˆ†æ`ï¼ˆåˆ†ææ‰€æœ‰å±‚çº§ï¼‰
4. **å­—æ®µç±»å‹æ¨æ–­**ï¼š
   - âœ… è‡ªåŠ¨æ¨æ–­æ•°æ®ç±»å‹ï¼ˆstring, number, booleanï¼‰
   - âœ… è¯†åˆ«æšä¸¾å€¼
   - âœ… è¯†åˆ«å¿…å¡«å­—æ®µ
5. **è¾“å‡ºæ ¼å¼**ï¼š`JSON`

**ç³»ç»Ÿæç¤ºè¯**ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œå¯è‡ªå®šä¹‰ï¼‰ï¼š
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ XML ç»“æ„åˆ†æä¸“å®¶ã€‚è¯·åˆ†æä»¥ä¸‹ XML æ–‡ä»¶çš„ç»“æ„ï¼š

1. æå–æ‰€æœ‰å…ƒç´ å’Œå±æ€§
2. è¯†åˆ«æ•°æ®ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æšä¸¾ï¼‰
3. è¯†åˆ«åµŒå¥—å…³ç³»å’Œå±‚çº§
4. è¯†åˆ«é‡å¤å…ƒç´ ï¼ˆæ•°ç»„ï¼‰
5. æå–å­—æ®µçº¦æŸï¼ˆå¿…å¡«ã€å¯é€‰ã€é»˜è®¤å€¼ï¼‰
6. è¯†åˆ«æšä¸¾å€¼ï¼ˆå¦‚ cultureã€Typeã€material_typeï¼‰

è¯·ç”Ÿæˆè¯¦ç»†çš„ Schema åˆ†ææŠ¥å‘Šã€‚
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "hasData": true,
  "analysis": {
    "root_element": "Items",
    "structure": {
      "Items": {
        "type": "object",
        "children": {
          "Item": {
            "type": "array",
            "item_type": "object",
            "attributes": {
              "id": {
                "type": "string",
                "required": true,
                "description": "è£…å¤‡å”¯ä¸€æ ‡è¯†ç¬¦"
              },
              "name": {
                "type": "string",
                "required": true,
                "description": "è£…å¤‡åç§°ï¼ˆæ”¯æŒæœ¬åœ°åŒ–é”®ï¼‰"
              },
              "mesh": {
                "type": "string",
                "required": true,
                "description": "3D æ¨¡å‹ç½‘æ ¼åç§°"
              },
              "culture": {
                "type": "enum",
                "values": ["Culture.aserai", "Culture.neutral_culture", "Culture.khuzait"],
                "description": "æ–‡åŒ–ç±»å‹"
              },
              "weight": {
                "type": "number",
                "required": true,
                "description": "è£…å¤‡é‡é‡"
              },
              "difficulty": {
                "type": "number",
                "default": "0",
                "description": "éš¾åº¦ç­‰çº§"
              },
              "appearance": {
                "type": "number",
                "default": "1",
                "description": "å¤–è§‚å€¼"
              },
              "Type": {
                "type": "enum",
                "values": ["HandArmor"],
                "required": true,
                "description": "è£…å¤‡ç±»å‹"
              }
            },
            "children": {
              "ItemComponent": {
                "type": "object",
                "children": {
                  "Armor": {
                    "type": "object",
                    "attributes": {
                      "arm_armor": {
                        "type": "number",
                        "required": true,
                        "description": "æŠ¤ç”²å€¼"
                      },
                      "modifier_group": {
                        "type": "enum",
                        "values": ["leather", "plate", "cloth"],
                        "description": "ä¿®æ”¹å™¨ç»„"
                      },
                      "material_type": {
                        "type": "enum",
                        "values": ["Leather", "Plate", "Cloth"],
                        "description": "ææ–™ç±»å‹"
                      },
                      "covers_hands": {
                        "type": "boolean",
                        "default": "false",
                        "description": "æ˜¯å¦è¦†ç›–æ‰‹éƒ¨"
                      },
                      "stealth_factor": {
                        "type": "number",
                        "description": "æ½œè¡Œå› å­"
                      }
                    }
                  }
                }
              },
              "Flags": {
                "type": "object",
                "attributes": {
                  "Civilian": {
                    "type": "boolean",
                    "description": "æ˜¯å¦ä¸ºæ°‘ç”¨è£…å¤‡"
                  },
                  "Stealth": {
                    "type": "boolean",
                    "description": "æ˜¯å¦æ”¯æŒæ½œè¡Œ"
                  }
                }
              }
            }
          }
        }
      }
    },
    "statistics": {
      "total_items": 30,
      "unique_cultures": 3,
      "unique_types": 1,
      "unique_materials": 3
    }
  }
}
```

---

### èŠ‚ç‚¹ 3ï¼šGenerate Editor Configï¼ˆç”Ÿæˆç¼–è¾‘å™¨é…ç½®èŠ‚ç‚¹ï¼‰

**åŠŸèƒ½**ï¼šæ ¹æ®ç»“æ„åˆ†æç»“æœï¼Œè‡ªåŠ¨ç”Ÿæˆç¼–è¾‘å™¨é…ç½®ï¼ˆè¡¨å•å­—æ®µã€éªŒè¯è§„åˆ™ã€UI å¸ƒå±€ï¼‰

**é…ç½®æ­¥éª¤**ï¼š
1. **èŠ‚ç‚¹åç§°**ï¼š`ç”Ÿæˆè£…å¤‡ç¼–è¾‘å™¨é…ç½®`
2. **èŠ‚ç‚¹æè¿°**ï¼š`æ ¹æ®è£…å¤‡è¡¨ç»“æ„ç”Ÿæˆå¯è§†åŒ–ç¼–è¾‘å™¨é…ç½®`
3. **ç¼–è¾‘å™¨ç±»å‹**ï¼š`è¡¨å•ç¼–è¾‘å™¨`ï¼ˆForm Editorï¼‰
4. **å¸ƒå±€æ¨¡å¼**ï¼š
   - **ä¸»åˆ—è¡¨è§†å›¾**ï¼šæ˜¾ç¤ºæ‰€æœ‰ Item çš„åˆ—è¡¨
   - **è¯¦æƒ…ç¼–è¾‘è§†å›¾**ï¼šç¼–è¾‘å•ä¸ª Item çš„è¯¦ç»†ä¿¡æ¯
5. **å­—æ®µé…ç½®**ï¼š
   - âœ… è‡ªåŠ¨ç”Ÿæˆå­—æ®µ
   - âœ… ä½¿ç”¨åˆ†æç»“æœä¸­çš„ç±»å‹å’Œçº¦æŸ
   - âœ… ç”Ÿæˆæšä¸¾é€‰æ‹©å™¨
6. **éªŒè¯è§„åˆ™**ï¼š
   - âœ… å¿…å¡«å­—æ®µéªŒè¯
   - âœ… æ•°æ®ç±»å‹éªŒè¯
   - âœ… èŒƒå›´éªŒè¯ï¼ˆå¦‚ weight > 0ï¼‰

**ç³»ç»Ÿæç¤ºè¯**ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œå¯è‡ªå®šä¹‰ï¼‰ï¼š
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–è¾‘å™¨é…ç½®ç”Ÿæˆä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹ XML ç»“æ„åˆ†æç»“æœï¼Œç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„ç¼–è¾‘å™¨é…ç½®ï¼š

è¦æ±‚ï¼š
1. ç”Ÿæˆè¡¨å•å­—æ®µå®šä¹‰ï¼ˆå­—æ®µåã€ç±»å‹ã€æ ‡ç­¾ã€å ä½ç¬¦ï¼‰
2. ä¸ºæ¯ä¸ªå­—æ®µç”Ÿæˆåˆé€‚çš„è¾“å…¥ç»„ä»¶ï¼ˆæ–‡æœ¬è¾“å…¥ã€æ•°å­—è¾“å…¥ã€é€‰æ‹©å™¨ã€å¼€å…³ç­‰ï¼‰
3. ç”ŸæˆéªŒè¯è§„åˆ™ï¼ˆå¿…å¡«ã€ç±»å‹ã€èŒƒå›´ï¼‰
4. ç”Ÿæˆå¸ƒå±€é…ç½®ï¼ˆåˆ†ç»„ã€æ’åºã€æ ‡ç­¾é¡µï¼‰
5. ä¸ºæšä¸¾å­—æ®µç”Ÿæˆé€‰é¡¹åˆ—è¡¨
6. ç”Ÿæˆé»˜è®¤å€¼å’Œå¸®åŠ©æ–‡æœ¬

è¯·ç”Ÿæˆ JSON æ ¼å¼çš„ç¼–è¾‘å™¨é…ç½®ã€‚
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "hasData": true,
  "editor_config": {
    "editor_type": "form_editor",
    "layout": {
      "mode": "master_detail",
      "master_view": {
        "type": "table",
        "columns": [
          {
            "field": "id",
            "label": "ID",
            "width": 150,
            "sortable": true
          },
          {
            "field": "name",
            "label": "åç§°",
            "width": 200,
            "sortable": true
          },
          {
            "field": "Type",
            "label": "ç±»å‹",
            "width": 100
          },
          {
            "field": "weight",
            "label": "é‡é‡",
            "width": 80,
            "type": "number"
          },
          {
            "field": "arm_armor",
            "label": "æŠ¤ç”²å€¼",
            "width": 80,
            "type": "number"
          }
        ],
        "actions": ["add", "edit", "delete", "duplicate"]
      },
      "detail_view": {
        "type": "form",
        "sections": [
          {
            "title": "åŸºæœ¬ä¿¡æ¯",
            "fields": [
              {
                "field": "id",
                "label": "è£…å¤‡ ID",
                "type": "text",
                "component": "Input",
                "required": true,
                "validation": {
                  "required": true,
                  "pattern": "^[a-z0-9_]+$",
                  "message": "ID åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿"
                },
                "help": "è£…å¤‡çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºæ¸¸æˆå†…å¼•ç”¨"
              },
              {
                "field": "name",
                "label": "è£…å¤‡åç§°",
                "type": "text",
                "component": "Input",
                "required": true,
                "validation": {
                  "required": true
                },
                "help": "æ”¯æŒæœ¬åœ°åŒ–é”®ï¼Œæ ¼å¼ï¼š{=key}Display Name"
              },
              {
                "field": "mesh",
                "label": "3D æ¨¡å‹",
                "type": "text",
                "component": "Input",
                "required": true,
                "validation": {
                  "required": true
                },
                "help": "3D æ¨¡å‹ç½‘æ ¼åç§°"
              },
              {
                "field": "culture",
                "label": "æ–‡åŒ–ç±»å‹",
                "type": "enum",
                "component": "Select",
                "options": [
                  { "value": "Culture.aserai", "label": "Aserai" },
                  { "value": "Culture.neutral_culture", "label": "Neutral" },
                  { "value": "Culture.khuzait", "label": "Khuzait" }
                ],
                "help": "è£…å¤‡æ‰€å±çš„æ–‡åŒ–ç±»å‹"
              },
              {
                "field": "weight",
                "label": "é‡é‡",
                "type": "number",
                "component": "InputNumber",
                "required": true,
                "validation": {
                  "required": true,
                  "min": 0,
                  "type": "number"
                },
                "help": "è£…å¤‡é‡é‡ï¼ˆå•ä½ï¼škgï¼‰"
              },
              {
                "field": "difficulty",
                "label": "éš¾åº¦ç­‰çº§",
                "type": "number",
                "component": "InputNumber",
                "default": 0,
                "validation": {
                  "type": "number",
                  "min": 0
                }
              },
              {
                "field": "appearance",
                "label": "å¤–è§‚å€¼",
                "type": "number",
                "component": "InputNumber",
                "default": 1,
                "validation": {
                  "type": "number",
                  "min": 0
                }
              },
              {
                "field": "Type",
                "label": "è£…å¤‡ç±»å‹",
                "type": "enum",
                "component": "Select",
                "required": true,
                "options": [
                  { "value": "HandArmor", "label": "æ‰‹éƒ¨æŠ¤ç”²" }
                ],
                "validation": {
                  "required": true
                }
              }
            ]
          },
          {
            "title": "æŠ¤ç”²å±æ€§",
            "fields": [
              {
                "field": "arm_armor",
                "label": "æŠ¤ç”²å€¼",
                "type": "number",
                "component": "InputNumber",
                "required": true,
                "validation": {
                  "required": true,
                  "type": "number",
                  "min": 0,
                  "max": 100
                },
                "help": "æ‰‹è‡‚æŠ¤ç”²å€¼ï¼ŒèŒƒå›´ï¼š0-100"
              },
              {
                "field": "modifier_group",
                "label": "ä¿®æ”¹å™¨ç»„",
                "type": "enum",
                "component": "Select",
                "options": [
                  { "value": "leather", "label": "çš®é©" },
                  { "value": "plate", "label": "æ¿ç”²" },
                  { "value": "cloth", "label": "å¸ƒæ–™" }
                ],
                "help": "è£…å¤‡çš„ä¿®æ”¹å™¨ç»„ç±»å‹"
              },
              {
                "field": "material_type",
                "label": "ææ–™ç±»å‹",
                "type": "enum",
                "component": "Select",
                "options": [
                  { "value": "Leather", "label": "çš®é©" },
                  { "value": "Plate", "label": "æ¿ç”²" },
                  { "value": "Cloth", "label": "å¸ƒæ–™" }
                ],
                "help": "è£…å¤‡çš„ææ–™ç±»å‹"
              },
              {
                "field": "covers_hands",
                "label": "è¦†ç›–æ‰‹éƒ¨",
                "type": "boolean",
                "component": "Switch",
                "default": false,
                "help": "æ˜¯å¦å®Œå…¨è¦†ç›–æ‰‹éƒ¨"
              },
              {
                "field": "stealth_factor",
                "label": "æ½œè¡Œå› å­",
                "type": "number",
                "component": "InputNumber",
                "validation": {
                  "type": "number",
                  "min": 0,
                  "max": 20
                },
                "help": "æ½œè¡ŒåŠ æˆï¼ŒèŒƒå›´ï¼š0-20"
              }
            ]
          },
          {
            "title": "æ ‡å¿—",
            "fields": [
              {
                "field": "Civilian",
                "label": "æ°‘ç”¨è£…å¤‡",
                "type": "boolean",
                "component": "Switch",
                "default": false,
                "help": "æ˜¯å¦ä¸ºæ°‘ç”¨è£…å¤‡"
              },
              {
                "field": "Stealth",
                "label": "æ”¯æŒæ½œè¡Œ",
                "type": "boolean",
                "component": "Switch",
                "default": false,
                "help": "æ˜¯å¦æ”¯æŒæ½œè¡Œ"
              }
            ]
          }
        ]
      }
    },
    "validation_rules": {
      "id": {
        "required": true,
        "pattern": "^[a-z0-9_]+$"
      },
      "name": {
        "required": true
      },
      "weight": {
        "required": true,
        "type": "number",
        "min": 0
      },
      "arm_armor": {
        "required": true,
        "type": "number",
        "min": 0,
        "max": 100
      }
    },
    "default_values": {
      "difficulty": 0,
      "appearance": 1,
      "covers_hands": false,
      "Civilian": false,
      "Stealth": false
    }
  }
}
```

---

### èŠ‚ç‚¹ 4ï¼šGPT Agentï¼ˆå¯é€‰ - æ™ºèƒ½ä¼˜åŒ–ï¼‰

**åŠŸèƒ½**ï¼šä½¿ç”¨ AI è¿›ä¸€æ­¥ä¼˜åŒ–ç¼–è¾‘å™¨é…ç½®ï¼Œæ·»åŠ æ™ºèƒ½éªŒè¯ã€å¸®åŠ©æ–‡æœ¬ã€UI ä¼˜åŒ–å»ºè®®

**é…ç½®æ­¥éª¤**ï¼š
1. **èŠ‚ç‚¹åç§°**ï¼š`ä¼˜åŒ–ç¼–è¾‘å™¨é…ç½®`
2. **èŠ‚ç‚¹æè¿°**ï¼š`ä½¿ç”¨ AI ä¼˜åŒ–ç¼–è¾‘å™¨é…ç½®ï¼Œæ·»åŠ æ™ºèƒ½åŠŸèƒ½`
3. **è¿æ¥**ï¼š
   - **Input**ï¼šè¿æ¥åˆ° `Generate Editor Config` èŠ‚ç‚¹çš„è¾“å‡º
4. **API é…ç½®**ï¼š
   - **API Key**ï¼šè¾“å…¥ä½ çš„ OpenAI API Key
   - **API URL**ï¼š`https://api.openai.com/v1/responses`
   - **æ¨¡å‹**ï¼š`gpt-5` æˆ– `gpt-4o`
5. **ç³»ç»Ÿæç¤ºè¯**ï¼š
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–è¾‘å™¨é…ç½®ä¼˜åŒ–ä¸“å®¶ã€‚è¯·ä¼˜åŒ–ä»¥ä¸‹ç¼–è¾‘å™¨é…ç½®ï¼š

1. æ·»åŠ æ›´è¯¦ç»†çš„å¸®åŠ©æ–‡æœ¬å’Œå­—æ®µè¯´æ˜
2. ä¼˜åŒ–å­—æ®µåˆ†ç»„å’Œå¸ƒå±€
3. æ·»åŠ æ™ºèƒ½éªŒè¯è§„åˆ™ï¼ˆå¦‚ï¼šweight åº”è¯¥ä¸ material_type åŒ¹é…ï¼‰
4. æ·»åŠ å­—æ®µè”åŠ¨ï¼ˆå¦‚ï¼šé€‰æ‹© plate æ—¶ï¼Œweight æœ€å°å€¼åº”è¯¥æ›´é«˜ï¼‰
5. ä¼˜åŒ– UI ç»„ä»¶é€‰æ‹©ï¼ˆä½¿ç”¨æ›´åˆé€‚çš„è¾“å…¥ç»„ä»¶ï¼‰
6. æ·»åŠ å­—æ®µä¾èµ–å…³ç³»
7. ç”Ÿæˆå­—æ®µæç¤ºå’Œç¤ºä¾‹å€¼

è¯·è¿”å›ä¼˜åŒ–åçš„ç¼–è¾‘å™¨é…ç½® JSONã€‚
```
6. **è¾“å…¥å†…å®¹**ï¼š
   - é€‰æ‹©"ä½¿ç”¨ä¸Šæ¸¸æ•°æ®"
   - æˆ–æ‰‹åŠ¨è¾“å…¥ï¼š`è¯·ä¼˜åŒ–ä»¥ä¸‹ç¼–è¾‘å™¨é…ç½®ï¼š${ä¸Šæ¸¸èŠ‚ç‚¹çš„ editor_config}`
7. **è¾“å‡ºæ ¼å¼**ï¼š`JSON`

**è¾“å‡º**ï¼šä¼˜åŒ–åçš„ç¼–è¾‘å™¨é…ç½®ï¼ŒåŒ…å«æ›´æ™ºèƒ½çš„éªŒè¯è§„åˆ™ã€å¸®åŠ©æ–‡æœ¬å’Œ UI ä¼˜åŒ–

---

## ğŸ¯ å®Œæ•´å·¥ä½œæµé…ç½®ç¤ºä¾‹

### åœºæ™¯ï¼šå°†ã€Šéª‘é©¬ä¸ç æ€2ã€‹è£…å¤‡è¡¨è½¬æ¢ä¸ºç¼–è¾‘å™¨

#### æ­¥éª¤ 1ï¼šåˆ›å»ºèŠ‚ç‚¹

1. **æ·»åŠ  Parse File èŠ‚ç‚¹**
   - ä»èŠ‚ç‚¹é€‰æ‹©å™¨é€‰æ‹©"è§£ææ–‡ä»¶"
   - é…ç½®æ–‡ä»¶åï¼š`è§£æè£…å¤‡è¡¨`

2. **æ·»åŠ  Analyze XML Structure èŠ‚ç‚¹**
   - ä»èŠ‚ç‚¹é€‰æ‹©å™¨é€‰æ‹©"åˆ†æ XML ç»“æ„"
   - é…ç½®æ–‡ä»¶åï¼š`åˆ†æè£…å¤‡è¡¨ç»“æ„`

3. **æ·»åŠ  Generate Editor Config èŠ‚ç‚¹**
   - ä»èŠ‚ç‚¹é€‰æ‹©å™¨é€‰æ‹©"ç”Ÿæˆç¼–è¾‘å™¨é…ç½®"
   - é…ç½®æ–‡ä»¶åï¼š`ç”Ÿæˆè£…å¤‡ç¼–è¾‘å™¨é…ç½®`

4. **ï¼ˆå¯é€‰ï¼‰æ·»åŠ  GPT Agent èŠ‚ç‚¹**
   - ä»èŠ‚ç‚¹é€‰æ‹©å™¨é€‰æ‹©"GPT Agent"
   - é…ç½®æ–‡ä»¶åï¼š`ä¼˜åŒ–ç¼–è¾‘å™¨é…ç½®`

#### æ­¥éª¤ 2ï¼šè¿æ¥èŠ‚ç‚¹

```
Parse File [output] â”€â”€â†’ Analyze XML Structure [input]
Analyze XML Structure [output] â”€â”€â†’ Generate Editor Config [input]
Generate Editor Config [output] â”€â”€â†’ GPT Agent [input] (å¯é€‰)
```

#### æ­¥éª¤ 3ï¼šé…ç½®æ¯ä¸ªèŠ‚ç‚¹

**Parse File èŠ‚ç‚¹**ï¼š
- æ–‡ä»¶è·¯å¾„ï¼š`F:\xml\SkiOL_arm_armors.xml`
- æ–‡ä»¶æ ¼å¼ï¼š`XML`
- ä¿ç•™å±æ€§ï¼šâœ…
- ä¿ç•™å‘½åç©ºé—´ï¼šâœ…

**Analyze XML Structure èŠ‚ç‚¹**ï¼š
- åˆ†ææ·±åº¦ï¼š`å®Œæ•´åˆ†æ`
- å­—æ®µç±»å‹æ¨æ–­ï¼šâœ…
- è¯†åˆ«æšä¸¾å€¼ï¼šâœ…
- è¯†åˆ«å¿…å¡«å­—æ®µï¼šâœ…

**Generate Editor Config èŠ‚ç‚¹**ï¼š
- ç¼–è¾‘å™¨ç±»å‹ï¼š`è¡¨å•ç¼–è¾‘å™¨`
- å¸ƒå±€æ¨¡å¼ï¼š`ä¸»åˆ—è¡¨è§†å›¾ + è¯¦æƒ…ç¼–è¾‘è§†å›¾`
- è‡ªåŠ¨ç”Ÿæˆå­—æ®µï¼šâœ…
- ç”ŸæˆéªŒè¯è§„åˆ™ï¼šâœ…

**GPT Agent èŠ‚ç‚¹**ï¼ˆå¯é€‰ï¼‰ï¼š
- API Keyï¼š`sk-...`ï¼ˆä½ çš„ OpenAI API Keyï¼‰
- ç³»ç»Ÿæç¤ºè¯ï¼šä½¿ç”¨ä¸Šé¢çš„æç¤ºè¯
- è¾“å…¥ï¼šé€‰æ‹©"ä½¿ç”¨ä¸Šæ¸¸æ•°æ®"
- è¾“å‡ºæ ¼å¼ï¼š`JSON`

#### æ­¥éª¤ 4ï¼šæ‰§è¡Œå·¥ä½œæµ

1. ç‚¹å‡»"æ‰§è¡ŒèŠ‚ç‚¹"æŒ‰é’®ï¼Œä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹æ‰§è¡Œ
2. æˆ–ç‚¹å‡»æ¯ä¸ªèŠ‚ç‚¹å•ç‹¬æ‰§è¡Œ
3. æŸ¥çœ‹æ¯ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºç»“æœ
4. æœ€ç»ˆåœ¨ GPT Agent èŠ‚ç‚¹ï¼ˆæˆ– Generate Editor Config èŠ‚ç‚¹ï¼‰è·å¾—ç¼–è¾‘å™¨é…ç½®

#### æ­¥éª¤ 5ï¼šä½¿ç”¨ç¼–è¾‘å™¨é…ç½®

ç”Ÿæˆçš„ç¼–è¾‘å™¨é…ç½®å¯ä»¥ï¼š
1. **å¯¼å‡ºä¸º JSON æ–‡ä»¶**ï¼šä¿å­˜é…ç½®ä¾›åç»­ä½¿ç”¨
2. **é›†æˆåˆ°å‰ç«¯**ï¼šä½¿ç”¨é…ç½®æ¸²æŸ“ç¼–è¾‘å™¨ç•Œé¢
3. **è¿›ä¸€æ­¥å®šåˆ¶**ï¼šæ ¹æ®éœ€æ±‚æ‰‹åŠ¨è°ƒæ•´é…ç½®

---

## ğŸ”§ é«˜çº§é…ç½®é€‰é¡¹

### è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯

åœ¨æ¯ä¸ª AI èŠ‚ç‚¹ä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯æ¥ï¼š
- è°ƒæ•´åˆ†æé‡ç‚¹
- æ·»åŠ ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†
- ä¼˜åŒ–è¾“å‡ºæ ¼å¼

### æ•°æ®å¤„ç†æ¨¡å¼

åœ¨ GPT Agent èŠ‚ç‚¹ä¸­ï¼Œå¯ä»¥é…ç½®ï¼š
- **æ•°æ®å¤„ç†æ¨¡å¼**ï¼š`smart`ï¼ˆæ™ºèƒ½é‡‡æ ·ï¼Œæ¨èï¼‰
- **æ•°æ® Token é™åˆ¶**ï¼š`4000`ï¼ˆé¿å…è¶…è¿‡ API é™åˆ¶ï¼‰
- **é‡‡æ ·ç­–ç•¥**ï¼š`head_tail`ï¼ˆä¿ç•™å¼€å¤´å’Œç»“å°¾ï¼‰

### Memory é›†æˆï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦è®°ä½ä¹‹å‰çš„åˆ†æç»“æœï¼š
1. æ·»åŠ  Memory èŠ‚ç‚¹
2. ä» GPT Agent èŠ‚ç‚¹åº•éƒ¨çš„ Memory ç«¯å£è¿æ¥
3. åœ¨ GPT Agent é…ç½®ä¸­å¯ç”¨"å¯ç”¨è®°å¿†åŠŸèƒ½"

---

## ğŸ“Š è¾“å‡ºç»“æœè¯´æ˜

### Parse File è¾“å‡º
- `data`ï¼šè§£æåçš„ç»“æ„åŒ–æ•°æ®
- `schema`ï¼šè‡ªåŠ¨æ¨æ–­çš„ Schema

### Analyze XML Structure è¾“å‡º
- `analysis.structure`ï¼šå®Œæ•´çš„ç»“æ„åˆ†æ
- `analysis.statistics`ï¼šç»Ÿè®¡ä¿¡æ¯ï¼ˆå­—æ®µæ•°é‡ã€æšä¸¾å€¼ç­‰ï¼‰

### Generate Editor Config è¾“å‡º
- `editor_config`ï¼šå®Œæ•´çš„ç¼–è¾‘å™¨é…ç½® JSON
- åŒ…å«ï¼šå­—æ®µå®šä¹‰ã€éªŒè¯è§„åˆ™ã€å¸ƒå±€é…ç½®ã€é»˜è®¤å€¼

### GPT Agent è¾“å‡ºï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- ä¼˜åŒ–åçš„ç¼–è¾‘å™¨é…ç½®
- åŒ…å«ï¼šæ™ºèƒ½éªŒè¯ã€å¸®åŠ©æ–‡æœ¬ã€UI ä¼˜åŒ–å»ºè®®

---

## ğŸ¨ ç¼–è¾‘å™¨é…ç½®ä½¿ç”¨ç¤ºä¾‹

ç”Ÿæˆçš„ç¼–è¾‘å™¨é…ç½®å¯ä»¥ç”¨äºï¼š

1. **React è¡¨å•ç”Ÿæˆå™¨**ï¼š
```typescript
import { FormGenerator } from '@/components/FormGenerator'
import editorConfig from './editor_config.json'

<FormGenerator 
  config={editorConfig.editor_config}
  data={xmlData}
  onChange={(data) => {
    // å¤„ç†æ•°æ®å˜æ›´
  }}
/>
```

2. **Ant Design Form**ï¼š
```typescript
import { Form, Input, Select, InputNumber, Switch } from 'antd'
import editorConfig from './editor_config.json'

// æ ¹æ®é…ç½®åŠ¨æ€ç”Ÿæˆè¡¨å•å­—æ®µ
editorConfig.editor_config.layout.detail_view.sections.forEach(section => {
  section.fields.forEach(field => {
    // æ¸²æŸ“å¯¹åº”çš„è¡¨å•ç»„ä»¶
  })
})
```

3. **å¯¼å‡ºä¸º XML**ï¼š
```typescript
// å°†ç¼–è¾‘åçš„æ•°æ®è½¬æ¢å› XML æ ¼å¼
function exportToXML(data: any): string {
  // æ ¹æ® editor_config çš„å­—æ®µå®šä¹‰ï¼Œå°†æ•°æ®è½¬æ¢å› XML
}
```

---

## ğŸš€ æ‰©å±•åº”ç”¨

è¿™ä¸ªå·¥ä½œæµä¸ä»…é€‚ç”¨äº XMLï¼Œè¿˜å¯ä»¥ï¼š

1. **JSON æ–‡ä»¶**ï¼šä¿®æ”¹ Parse File èŠ‚ç‚¹ä¸º JSON æ ¼å¼
2. **YAML æ–‡ä»¶**ï¼šä¿®æ”¹ Parse File èŠ‚ç‚¹ä¸º YAML æ ¼å¼
3. **CSV æ–‡ä»¶**ï¼šä¿®æ”¹ Parse File èŠ‚ç‚¹ä¸º CSV æ ¼å¼
4. **è‡ªå®šä¹‰æ ¼å¼**ï¼šä½¿ç”¨ GPT Agent èŠ‚ç‚¹æ™ºèƒ½è¯†åˆ«ä»»æ„æ ¼å¼

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **API Key å®‰å…¨**ï¼šGPT Agent èŠ‚ç‚¹çš„ API Key å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®ç®¡ç†
2. **æ•°æ®é‡é™åˆ¶**ï¼šå¦‚æœ XML æ–‡ä»¶å¾ˆå¤§ï¼Œä½¿ç”¨"æ™ºèƒ½é‡‡æ ·"æ¨¡å¼é¿å…è¶…è¿‡ Token é™åˆ¶
3. **æšä¸¾å€¼è¯†åˆ«**ï¼šç¡®ä¿ Analyze XML Structure èŠ‚ç‚¹æ­£ç¡®è¯†åˆ«äº†æ‰€æœ‰æšä¸¾å€¼
4. **éªŒè¯è§„åˆ™**ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´éªŒè¯è§„åˆ™
5. **ç¼–è¾‘å™¨å®šåˆ¶**ï¼šç”Ÿæˆçš„é…ç½®å¯ä»¥æ ¹æ® UI æ¡†æ¶è¿›è¡Œå®šåˆ¶

---

## ğŸ¯ æ€»ç»“

è¿™ä¸ªå·¥ä½œæµå®ç°äº†ï¼š
- âœ… **æ ¼å¼æ— å…³**ï¼šä¸å±€é™äº XMLï¼Œæ”¯æŒä»»æ„æ ¼å¼
- âœ… **æ™ºèƒ½åˆ†æ**ï¼šAI è‡ªåŠ¨è¯†åˆ«ç»“æ„ã€ç±»å‹ã€çº¦æŸ
- âœ… **è‡ªåŠ¨ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ç¼–è¾‘å™¨é…ç½®
- âœ… **å¯æ‰©å±•**ï¼šå¯ä»¥æ·»åŠ æ›´å¤šèŠ‚ç‚¹è¿›è¡Œæ•°æ®å¤„ç†å’Œä¼˜åŒ–
- âœ… **å¯è§†åŒ–**ï¼šé€šè¿‡å·¥ä½œæµç•Œé¢ç›´è§‚åœ°é…ç½®å’Œæ‰§è¡Œ

é€šè¿‡è¿™ä¸ªå·¥ä½œæµï¼Œä½ å¯ä»¥å°†ä»»ä½•ç»“æ„åŒ–æ–‡ä»¶è½¬æ¢ä¸ºå¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œå¤§å¤§æé«˜æ•°æ®ç¼–è¾‘çš„æ•ˆç‡ï¼

