# GPT Agent èŠ‚ç‚¹è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

GPT Agent èŠ‚ç‚¹æ˜¯ä¸€ä¸ª**å¼ºå¤§çš„ AI ä»£ç†èŠ‚ç‚¹**ï¼Œåˆå¹¶äº† AIAgent å’Œ ChatModel çš„åŠŸèƒ½ï¼Œå¹¶æ”¯æŒ ChatGPT Responses API çš„å®Œæ•´ç‰¹æ€§ã€‚å®ƒæ—¨åœ¨æä¾›ä¸€ä¸ªç»Ÿä¸€ã€çµæ´»ã€åŠŸèƒ½ä¸°å¯Œçš„ AI ä»£ç†æ¥å£ï¼Œèƒ½å¤Ÿå¤„ç†å„ç§å¤æ‚çš„ AI ä»»åŠ¡ã€‚

## ğŸ¯ è®¾è®¡ç›®æ ‡

1. **ç»Ÿä¸€æ¥å£**ï¼šåˆå¹¶ AIAgent å’Œ ChatModel çš„åŠŸèƒ½ï¼Œæä¾›ç»Ÿä¸€çš„é…ç½®å’Œæ‰§è¡Œæ¥å£
2. **å®Œæ•´æ”¯æŒ**ï¼šæ”¯æŒ ChatGPT Responses API çš„æ‰€æœ‰ç‰¹æ€§ï¼ˆæ–‡å­—ã€å›¾ç‰‡ã€æ–‡ä»¶ã€MCPã€å¤šAgentï¼‰
3. **çµæ´»æ‰©å±•**ï¼šæ˜“äºæ‰©å±•æ–°åŠŸèƒ½ï¼Œæ”¯æŒè‡ªå®šä¹‰é…ç½®
4. **æ™ºèƒ½å¤„ç†**ï¼šè‡ªåŠ¨å¤„ç†æ•°æ®ï¼Œé¿å… Token é™åˆ¶é—®é¢˜
5. **è‰¯å¥½ä½“éªŒ**ï¼šæä¾›ç›´è§‚çš„é…ç½®ç•Œé¢å’Œæ¸…æ™°çš„æ‰§è¡Œæµç¨‹

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. æ ¸å¿ƒç»„ä»¶

```
GPT Agent èŠ‚ç‚¹
â”œâ”€â”€ é…ç½®å±‚ (Config Layer)
â”‚   â”œâ”€â”€ API é…ç½® (API Configuration)
â”‚   â”œâ”€â”€ æ¨¡å‹é…ç½® (Model Configuration)
â”‚   â”œâ”€â”€ è¾“å…¥é…ç½® (Input Configuration)
â”‚   â”œâ”€â”€ è¾“å‡ºé…ç½® (Output Configuration)
â”‚   â”œâ”€â”€ é«˜çº§åŠŸèƒ½é…ç½® (Advanced Features)
â”‚   â””â”€â”€ æ•°æ®å¤„ç†é…ç½® (Data Processing)
â”‚
â”œâ”€â”€ æ‰§è¡Œå±‚ (Execution Layer)
â”‚   â”œâ”€â”€ è¾“å…¥å¤„ç† (Input Processing)
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼  (File Upload)
â”‚   â”œâ”€â”€ API è°ƒç”¨ (API Invocation)
â”‚   â”œâ”€â”€ å“åº”å¤„ç† (Response Processing)
â”‚   â””â”€â”€ è¾“å‡ºæ ¼å¼åŒ– (Output Formatting)
â”‚
â””â”€â”€ é›†æˆå±‚ (Integration Layer)
    â”œâ”€â”€ ä¸Šæ¸¸èŠ‚ç‚¹é›†æˆ (Upstream Integration)
    â”œâ”€â”€ ä¸‹æ¸¸èŠ‚ç‚¹é›†æˆ (Downstream Integration)
    â”œâ”€â”€ MCP æœåŠ¡é›†æˆ (MCP Integration)
    â””â”€â”€ å¤š Agent åä½œ (Multi-Agent Collaboration)
```

### 2. æ•°æ®æµè®¾è®¡

```
ä¸Šæ¸¸èŠ‚ç‚¹æ•°æ®
    â†“
[è¾“å…¥å¤„ç†] â†’ æ•°æ®é‡‡æ ·/æ‘˜è¦/é™åˆ¶
    â†“
[Memory æ£€ç´¢] â†’ ä»è¿æ¥çš„ Memory èŠ‚ç‚¹æ£€ç´¢ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰
    â†“
[è¾“å…¥å†…å®¹æ„å»º] â†’ æ–‡å­—/å›¾ç‰‡/æ–‡ä»¶å†…å®¹é¡¹
    â†“
[æ–‡ä»¶ä¸Šä¼ ] â†’ OpenAI Files API (å¯é€‰)
    â†“
[Tool é›†æˆ] â†’ é›†æˆè¿æ¥çš„ Tool èŠ‚ç‚¹åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
    â†“
[è¯·æ±‚æ„å»º] â†’ ChatGPT Responses API è¯·æ±‚
    â†“
[API è°ƒç”¨] â†’ è°ƒç”¨ ChatGPT API
    â†“
[å“åº”å¤„ç†] â†’ è§£æå“åº”å†…å®¹
    â†“
[Memory å­˜å‚¨] â†’ å­˜å‚¨åˆ°è¿æ¥çš„ Memory èŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰
    â†“
[è¾“å‡ºæ ¼å¼åŒ–] â†’ JSON/Text/Structured/Markdown
    â†“
ä¸‹æ¸¸èŠ‚ç‚¹æ•°æ®
```

### 2.1 è¿æ¥ç‚¹è®¾è®¡

GPT Agent èŠ‚ç‚¹æ”¯æŒä»¥ä¸‹è¿æ¥ç‚¹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GPT Agent          â”‚
â”‚                     â”‚
â”‚  [Input] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ æ•°æ®è¾“å…¥ï¼ˆå·¦ä¾§ï¼Œæ­£æ–¹å½¢ï¼‰
â”‚                     â”‚
â”‚  [Output] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ è¾“å‡ºç»“æœï¼ˆå³ä¾§ï¼Œåœ†å½¢ï¼‰
â”‚                     â”‚
â”‚  [Memory] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ è®°å¿†å­˜å‚¨ï¼ˆåº•éƒ¨ï¼Œå¯é€‰ï¼ŒğŸ’¾ï¼‰
â”‚                     â”‚
â”‚  [Tool] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ å·¥å…·/ä»£ç å·¥å…·ï¼ˆåº•éƒ¨ï¼Œå¯é€‰ï¼ŒğŸ”§ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¿æ¥ç‚¹è¯´æ˜**ï¼š
- **Input**ï¼ˆå·¦ä¾§ï¼Œæ­£æ–¹å½¢ï¼‰ï¼šæ¥æ”¶ä¸Šæ¸¸èŠ‚ç‚¹çš„æ•°æ®
- **Output**ï¼ˆå³ä¾§ï¼Œåœ†å½¢ï¼‰ï¼šè¾“å‡ºå¤„ç†åçš„ç»“æœ
- **Memory**ï¼ˆåº•éƒ¨ï¼Œå¯é€‰ï¼ŒğŸ’¾ï¼‰ï¼šè¿æ¥ Memory èŠ‚ç‚¹ï¼Œç”¨äºå­˜å‚¨å’Œæ£€ç´¢ä¸Šä¸‹æ–‡ä¿¡æ¯
- **Tool**ï¼ˆåº•éƒ¨ï¼Œå¯é€‰ï¼ŒğŸ”§ï¼‰ï¼šè¿æ¥ Tool èŠ‚ç‚¹ï¼ˆå¦‚ä»£ç å·¥å…·ï¼‰ï¼Œæ‰©å±• GPT Agent çš„åŠŸèƒ½

**æ³¨æ„**ï¼šGPT Agent ä¸éœ€è¦å•ç‹¬çš„ Chat Model è¿æ¥ç‚¹ï¼Œå› ä¸º API é…ç½®ç›´æ¥å†…ç½®åœ¨èŠ‚ç‚¹ä¸­ã€‚

## ğŸ“ åŠŸèƒ½ç‰¹æ€§è®¾è®¡

### 1. API é…ç½®

#### 1.1 åŸºç¡€é…ç½®
- **API Key** (å¿…éœ€)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆå¯†ç è¾“å…¥ï¼‰
  - è¯´æ˜ï¼šOpenAI API Key
  - éªŒè¯ï¼šéç©ºéªŒè¯

- **API URL** (å¿…éœ€)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆURLï¼‰
  - é»˜è®¤å€¼ï¼š`https://api.openai.com/v1/responses`
  - è¯´æ˜ï¼šChatGPT Responses API ç«¯ç‚¹
  - éªŒè¯ï¼šURL æ ¼å¼éªŒè¯

- **æ¨¡å‹ç‰ˆæœ¬** (å¿…éœ€)
  - ç±»å‹ï¼šé€‰æ‹©å™¨
  - é€‰é¡¹ï¼š
    - `gpt-5` (æ¨èï¼Œé«˜æ€§èƒ½)
    - `gpt-5-nano` (å¿«é€Ÿå“åº”)
    - `gpt-4o` (å¹³è¡¡æ€§èƒ½å’Œæˆæœ¬)
    - `gpt-4o-mini` (è½»é‡çº§)
    - `gpt-4-turbo` (å…¼å®¹æ€§)
    - `gpt-3.5-turbo` (ä½æˆæœ¬)
  - é»˜è®¤å€¼ï¼š`gpt-5`

#### 1.2 è¯·æ±‚é…ç½®
- **è¶…æ—¶æ—¶é—´** (å¯é€‰)
  - ç±»å‹ï¼šæ•°å­—ï¼ˆç§’ï¼‰
  - é»˜è®¤å€¼ï¼š60
  - èŒƒå›´ï¼š10-300

- **æœ€å¤§é‡è¯•æ¬¡æ•°** (å¯é€‰)
  - ç±»å‹ï¼šæ•°å­—
  - é»˜è®¤å€¼ï¼š3
  - èŒƒå›´ï¼š0-10

- **è‡ªå®šä¹‰è¯·æ±‚å¤´** (å¯é€‰)
  - ç±»å‹ï¼šJSON å­—ç¬¦ä¸²
  - è¯´æ˜ï¼šè‡ªå®šä¹‰ HTTP è¯·æ±‚å¤´
  - ç¤ºä¾‹ï¼š`{"Custom-Header": "value"}`

### 2. è¾“å…¥é…ç½®

#### 2.1 ç³»ç»Ÿæç¤ºè¯å’ŒæŒ‡ä»¤
- **ç³»ç»Ÿæç¤ºè¯** (System Prompt) (å¯é€‰)
  - ç±»å‹ï¼šå¤šè¡Œæ–‡æœ¬
  - è¯´æ˜ï¼šå®šä¹‰ GPT Agent çš„è§’è‰²ã€èƒ½åŠ›å’Œè¡Œä¸ºå‡†åˆ™
  - ç¤ºä¾‹ï¼š`ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹ï¼Œæ“…é•¿åˆ†æXMLæ–‡ä»¶ç»“æ„å’Œæå–å…³é”®ä¿¡æ¯ã€‚`

- **Instructions** (å¯é€‰)
  - ç±»å‹ï¼šå¤šè¡Œæ–‡æœ¬
  - è¯´æ˜ï¼šå¯é‡ç”¨æç¤ºè¯æ¨¡æ¿ï¼Œä¼˜å…ˆçº§é«˜äºç³»ç»Ÿæç¤ºè¯
  - ç¤ºä¾‹ï¼š`Talk like a pirate.` æˆ– `You are a professional data analyst.`

- **æ¨ç†æ¨¡å¼** (Reasoning) (å¯é€‰)
  - ç±»å‹ï¼šå¸ƒå°”å€¼
  - è¯´æ˜ï¼šå¯ç”¨æ¨ç†æ¨¡å¼ï¼ˆä»…é€‚ç”¨äº Reasoning Modelsï¼‰
  - é»˜è®¤å€¼ï¼šfalse

#### 2.2 å¤šæ¨¡æ€è¾“å…¥å†…å®¹

æ”¯æŒä¸‰ç§è¾“å…¥ç±»å‹ï¼š

##### 2.2.1 æ–‡å­—è¾“å…¥ (input_text)
- **ç±»å‹æ ‡è¯†**ï¼š`input_text`
- **å±æ€§**ï¼š
  - `text` (å¿…éœ€)ï¼šæ–‡æœ¬å†…å®¹
- **ç”¨é€”**ï¼šä¼ é€’æ–‡æœ¬æç¤ºè¯æˆ–æ•°æ®
- **ç¤ºä¾‹**ï¼š
  ```json
  {
    "type": "input_text",
    "text": "è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š..."
  }
  ```

##### 2.2.2 å›¾ç‰‡è¾“å…¥ (input_image)
- **ç±»å‹æ ‡è¯†**ï¼š`input_image`
- **å±æ€§**ï¼š
  - `image_url` (å¿…éœ€)ï¼šå›¾ç‰‡ URL
- **ç”¨é€”**ï¼šä¼ é€’å›¾ç‰‡å†…å®¹è¿›è¡Œåˆ†æ
- **ç¤ºä¾‹**ï¼š
  ```json
  {
    "type": "input_image",
    "image_url": "https://example.com/image.jpg"
  }
  ```

##### 2.2.3 æ–‡ä»¶è¾“å…¥ (input_file)
- **ç±»å‹æ ‡è¯†**ï¼š`input_file`
- **å±æ€§**ï¼š
  - `file_id` (å¯é€‰)ï¼šå·²ä¸Šä¼ çš„æ–‡ä»¶ID
  - `file_url` (å¯é€‰)ï¼šæ–‡ä»¶ URL
- **ç”¨é€”**ï¼šä¼ é€’æ–‡ä»¶å†…å®¹è¿›è¡Œåˆ†æ
- **ç¤ºä¾‹**ï¼š
  ```json
  {
    "type": "input_file",
    "file_id": "file_abc123"
  }
  ```
  æˆ–
  ```json
  {
    "type": "input_file",
    "file_url": "https://example.com/document.pdf"
  }
  ```

#### 2.3 è¾“å…¥å†…å®¹ç®¡ç†
- **è¾“å…¥å†…å®¹åˆ—è¡¨**ï¼šæ”¯æŒæ·»åŠ å¤šä¸ªè¾“å…¥å†…å®¹é¡¹
- **è¾“å…¥é¡ºåº**ï¼šæŒ‰æ·»åŠ é¡ºåºæ’åˆ—
- **è‡ªåŠ¨æ„å»º**ï¼šå¦‚æœæ²¡æœ‰é…ç½®è¾“å…¥å†…å®¹ï¼Œè‡ªåŠ¨ä»ä¸Šæ¸¸èŠ‚ç‚¹æ•°æ®æ„å»º

### 3. æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

#### 3.1 æ–‡ä»¶ä¸Šä¼ é…ç½®
- **æ–‡ä»¶è·¯å¾„** (å¯é€‰)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆæ–‡ä»¶è·¯å¾„ï¼‰
  - è¯´æ˜ï¼šæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œå°†ä¸Šä¼ åˆ° OpenAI Files API
  - éªŒè¯ï¼šæ–‡ä»¶å­˜åœ¨æ€§éªŒè¯

- **æ–‡ä»¶ç”¨é€”** (å¯é€‰)
  - ç±»å‹ï¼šé€‰æ‹©å™¨
  - é€‰é¡¹ï¼š
    - `user_data`ï¼šç”¨æˆ·æ•°æ®æ–‡ä»¶ï¼ˆé»˜è®¤ï¼‰
    - `assistant`ï¼šåŠ©æ‰‹æ–‡ä»¶
  - é»˜è®¤å€¼ï¼š`user_data`

#### 3.2 æ–‡ä»¶ä¸Šä¼ æµç¨‹
1. ç”¨æˆ·æŒ‡å®šæ–‡ä»¶è·¯å¾„æˆ–ä¸Šä¼ æ–‡ä»¶
2. è°ƒç”¨ OpenAI Files API ä¸Šä¼ æ–‡ä»¶
3. è·å–æ–‡ä»¶ ID
4. è‡ªåŠ¨æ·»åŠ åˆ°è¾“å…¥å†…å®¹ä¸­ï¼ˆå¦‚æœé…ç½®äº†æ–‡ä»¶è¾“å…¥ï¼‰

### 4. MCP æœåŠ¡é›†æˆ

#### 4.1 MCP æœåŠ¡å™¨é…ç½®
- **æœåŠ¡å™¨æ ‡ç­¾** (Server Label) (å¿…éœ€)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²
  - è¯´æ˜ï¼šMCP æœåŠ¡å™¨çš„æ ‡è¯†ç¬¦
  - ç¤ºä¾‹ï¼š`dmcp`

- **æœåŠ¡å™¨æè¿°** (Server Description) (å¿…éœ€)
  - ç±»å‹ï¼šå¤šè¡Œæ–‡æœ¬
  - è¯´æ˜ï¼šMCP æœåŠ¡å™¨çš„åŠŸèƒ½æè¿°
  - ç¤ºä¾‹ï¼š`A Dungeons and Dragons MCP server to assist with dice rolling.`

- **æœåŠ¡å™¨ URL** (Server URL) (å¿…éœ€)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆURLï¼‰
  - è¯´æ˜ï¼šMCP æœåŠ¡å™¨çš„ç«¯ç‚¹ URL
  - ç¤ºä¾‹ï¼š`https://dmcp-server.deno.dev/sse`

- **éœ€è¦æ‰¹å‡†** (Require Approval) (å¯é€‰)
  - ç±»å‹ï¼šé€‰æ‹©å™¨
  - é€‰é¡¹ï¼š
    - `never`ï¼šä¸éœ€è¦æ‰¹å‡†ï¼ˆé»˜è®¤ï¼‰
    - `always`ï¼šæ€»æ˜¯éœ€è¦æ‰¹å‡†
    - `on_first_use`ï¼šé¦–æ¬¡ä½¿ç”¨éœ€è¦æ‰¹å‡†
  - é»˜è®¤å€¼ï¼š`never`

#### 4.2 MCP æœåŠ¡ä½¿ç”¨
- æ”¯æŒé…ç½®å¤šä¸ª MCP æœåŠ¡å™¨
- åœ¨ API è¯·æ±‚ä¸­ä½œä¸º `tools` å‚æ•°ä¼ é€’
- GPT Agent å¯ä»¥è‡ªåŠ¨è°ƒç”¨ MCP æœåŠ¡

### 5. å¤š Agent åä½œ

#### 5.1 Agent é…ç½®
- **Agent åç§°** (Name) (å¿…éœ€)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²
  - è¯´æ˜ï¼šAgent çš„å”¯ä¸€æ ‡è¯†ç¬¦
  - ç¤ºä¾‹ï¼š`spanish_agent`

- **Agent æŒ‡ä»¤** (Instructions) (å¿…éœ€)
  - ç±»å‹ï¼šå¤šè¡Œæ–‡æœ¬
  - è¯´æ˜ï¼šå®šä¹‰ Agent çš„è¡Œä¸ºå’Œè§’è‰²
  - ç¤ºä¾‹ï¼š`You only speak Spanish.`

- **è½¬äº¤ç›®æ ‡** (Handoffs) (å¯é€‰)
  - ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
  - è¯´æ˜ï¼šå¯ä»¥è½¬äº¤åˆ°çš„å…¶ä»– Agent åç§°åˆ—è¡¨
  - ç¤ºä¾‹ï¼š`["english_agent", "triage_agent"]`

#### 5.2 Agent åä½œæµç¨‹
1. é…ç½®å¤šä¸ª Agentï¼ˆæ¯ä¸ª Agent æœ‰ç‹¬ç«‹çš„æŒ‡ä»¤ï¼‰
2. é…ç½® Agent è½¬äº¤å…³ç³»ï¼ˆå“ªä¸ª Agent å¯ä»¥è½¬äº¤ç»™å“ªä¸ª Agentï¼‰
3. GPT Agent æ ¹æ®è¾“å…¥è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ Agent
4. æ”¯æŒ Agent ä¹‹é—´çš„åä½œå’Œè½¬äº¤

### 6. æ•°æ®å¤„ç†é…ç½®

#### 6.1 æ•°æ®å¤„ç†æ¨¡å¼
- **ç›´æ¥ä¼ é€’** (direct)
  - è¯´æ˜ï¼šåŸæ ·ä¼ é€’æ•°æ®ï¼Œä¸åšå¤„ç†
  - é€‚ç”¨åœºæ™¯ï¼šæ•°æ®é‡å°ï¼Œä¸éœ€è¦å¤„ç†

- **æ™ºèƒ½é‡‡æ ·** (smart) (æ¨è)
  - è¯´æ˜ï¼šè‡ªåŠ¨é€‰æ‹©ä»£è¡¨æ€§æ•°æ®
  - é€‚ç”¨åœºæ™¯ï¼šæ•°æ®é‡å¤§ï¼Œéœ€è¦æ™ºèƒ½é€‰æ‹©
  - é…ç½®é¡¹ï¼š
    - `max_data_tokens`ï¼šæ•°æ® Token é™åˆ¶ï¼ˆé»˜è®¤ï¼š4000ï¼‰
    - `sample_strategy`ï¼šé‡‡æ ·ç­–ç•¥

- **é™åˆ¶æ•°é‡** (limit)
  - è¯´æ˜ï¼šåªä¼ é€’å‰ N æ¡è®°å½•
  - é€‚ç”¨åœºæ™¯ï¼šæ•°æ®é‡å¤§ï¼Œéœ€è¦å›ºå®šæ•°é‡
  - é…ç½®é¡¹ï¼š
    - `data_limit_count`ï¼šæ•°æ®æ¡æ•°é™åˆ¶

- **æ‘˜è¦æ¨¡å¼** (summary)
  - è¯´æ˜ï¼šç”Ÿæˆæ•°æ®æ‘˜è¦åä¼ é€’
  - é€‚ç”¨åœºæ™¯ï¼šæ•°æ®é‡éå¸¸å¤§ï¼Œéœ€è¦æ‘˜è¦

#### 6.2 é‡‡æ ·ç­–ç•¥
- **é¦–å°¾é‡‡æ ·** (head_tail)ï¼šä¿ç•™å¼€å¤´å’Œç»“å°¾çš„æ•°æ®
- **å‡åŒ€é‡‡æ ·** (uniform)ï¼šå‡åŒ€åˆ†å¸ƒé‡‡æ ·
- **ä»…å¼€å¤´** (head)ï¼šåªä¿ç•™å¼€å¤´çš„æ•°æ®
- **éšæœºé‡‡æ ·** (random)ï¼šéšæœºé€‰æ‹©æ•°æ®
- **å¤šæ ·åŒ–é‡‡æ ·** (diverse)ï¼šç¡®ä¿è¦†ç›–ä¸åŒç±»å‹çš„å­èŠ‚ç‚¹ï¼ˆXML æ ¼å¼è‡ªåŠ¨ä½¿ç”¨ï¼‰

### 7. è¾“å‡ºé…ç½®

#### 7.1 è¾“å‡ºæ ¼å¼
- **JSON æ ¼å¼** (json) (é»˜è®¤)
  - è¯´æ˜ï¼šè¿”å› JSON æ ¼å¼çš„æ•°æ®
  - é€‚ç”¨åœºæ™¯ï¼šç»“æ„åŒ–æ•°æ®

- **æ–‡æœ¬æ ¼å¼** (text)
  - è¯´æ˜ï¼šè¿”å›çº¯æ–‡æœ¬
  - é€‚ç”¨åœºæ™¯ï¼šç®€å•æ–‡æœ¬è¾“å‡º

- **ç»“æ„åŒ–æ•°æ®** (structured)
  - è¯´æ˜ï¼šè¿”å›ç»“æ„åŒ–æ•°æ®å¯¹è±¡
  - é€‚ç”¨åœºæ™¯ï¼šå¤æ‚æ•°æ®ç»“æ„

- **Markdown æ ¼å¼** (markdown)
  - è¯´æ˜ï¼šè¿”å› Markdown æ ¼å¼çš„æ–‡æœ¬
  - é€‚ç”¨åœºæ™¯ï¼šæ–‡æ¡£ç”Ÿæˆ

#### 7.2 è¾“å‡ºå‚æ•°
- **Temperature** (å¯é€‰)
  - ç±»å‹ï¼šæ•°å­—ï¼ˆ0-2ï¼‰
  - é»˜è®¤å€¼ï¼š0.7
  - è¯´æ˜ï¼šæ§åˆ¶å›å¤çš„éšæœºæ€§

- **æœ€å¤§è¾“å‡ºé•¿åº¦** (Max Tokens) (å¯é€‰)
  - ç±»å‹ï¼šæ•°å­—
  - é»˜è®¤å€¼ï¼š2000
  - èŒƒå›´ï¼š100-8000
  - è¯´æ˜ï¼šé™åˆ¶ç”Ÿæˆå“åº”çš„æœ€å¤§ Token æ•°é‡

## ğŸ”„ æ‰§è¡Œæµç¨‹è®¾è®¡

### 1. é…ç½®éªŒè¯é˜¶æ®µ
1. éªŒè¯å¿…éœ€é…ç½®ï¼ˆAPI Keyã€API URLã€æ¨¡å‹ï¼‰
2. éªŒè¯è¾“å…¥å†…å®¹é…ç½®
3. éªŒè¯æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚æœæä¾›ï¼‰
4. éªŒè¯ MCP æœåŠ¡å™¨é…ç½®ï¼ˆå¦‚æœæä¾›ï¼‰
5. éªŒè¯ Agent é…ç½®ï¼ˆå¦‚æœæä¾›ï¼‰
6. éªŒè¯ Memory è¿æ¥ï¼ˆå¦‚æœå¯ç”¨ï¼‰
7. éªŒè¯ Tool è¿æ¥ï¼ˆå¦‚æœå¯ç”¨ï¼‰

### 2. è¾“å…¥å¤„ç†é˜¶æ®µ
1. å¤„ç†ä¸Šæ¸¸èŠ‚ç‚¹æ•°æ®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
   - æ ¹æ®æ•°æ®å¤„ç†æ¨¡å¼å¤„ç†æ•°æ®
   - åº”ç”¨é‡‡æ ·ç­–ç•¥
   - é™åˆ¶ Token æ•°é‡
2. æ£€ç´¢ Memory ä¸Šä¸‹æ–‡ï¼ˆå¦‚æœè¿æ¥äº† Memory èŠ‚ç‚¹ï¼‰
   - æ ¹æ®è®°å¿†ç­–ç•¥æ£€ç´¢ç›¸å…³ä¸Šä¸‹æ–‡
   - å°†ä¸Šä¸‹æ–‡æ·»åŠ åˆ°æç¤ºè¯ä¸­
3. æ„å»ºè¾“å…¥å†…å®¹åˆ—è¡¨
   - å¤„ç†ç”¨æˆ·é…ç½®çš„è¾“å…¥å†…å®¹é¡¹
   - å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼ˆå¦‚æœæä¾›ï¼‰
   - è‡ªåŠ¨æ„å»ºè¾“å…¥å†…å®¹ï¼ˆå¦‚æœæ²¡æœ‰é…ç½®ï¼‰
4. é›†æˆ Tool åŠŸèƒ½ï¼ˆå¦‚æœè¿æ¥äº† Tool èŠ‚ç‚¹ï¼‰
   - è·å–å·¥å…·å‡½æ•°åˆ—è¡¨
   - å°†å·¥å…·å‡½æ•°æ·»åŠ åˆ°è¯·æ±‚ä¸­ï¼ˆä½œä¸º tools å‚æ•°ï¼‰

### 3. æ–‡ä»¶ä¸Šä¼ é˜¶æ®µï¼ˆå¯é€‰ï¼‰
1. æ£€æŸ¥æ˜¯å¦éœ€è¦ä¸Šä¼ æ–‡ä»¶
2. è°ƒç”¨ OpenAI Files API ä¸Šä¼ æ–‡ä»¶
3. è·å–æ–‡ä»¶ ID
4. æ·»åŠ åˆ°è¾“å…¥å†…å®¹ä¸­

### 4. è¯·æ±‚æ„å»ºé˜¶æ®µ
1. æ„å»ºåŸºç¡€è¯·æ±‚ä½“ï¼ˆmodel, inputï¼‰
2. æ·»åŠ å¯é€‰å‚æ•°ï¼ˆinstructions, reasoning, temperature, max_tokensï¼‰
3. æ·»åŠ  MCP æœåŠ¡é…ç½®ï¼ˆå¦‚æœæä¾›ï¼‰
4. æ·»åŠ  Agent é…ç½®ï¼ˆå¦‚æœæä¾›ï¼‰
5. æ„å»ºè¯·æ±‚å¤´

### 5. API è°ƒç”¨é˜¶æ®µ
1. å‘é€ HTTP è¯·æ±‚åˆ° ChatGPT Responses API
2. å¤„ç†é‡è¯•é€»è¾‘ï¼ˆå¦‚æœå¤±è´¥ï¼‰
3. å¤„ç†é”™è¯¯å“åº”

### 6. å“åº”å¤„ç†é˜¶æ®µ
1. è§£æå“åº” JSON
2. æå–è¾“å‡ºå†…å®¹ï¼ˆoutput_text æˆ– output.contentï¼‰
3. æå–ä½¿ç”¨æƒ…å†µï¼ˆusageï¼‰
4. æå–æ¨¡å‹åç§°

### 7. è¾“å‡ºæ ¼å¼åŒ–é˜¶æ®µ
1. æ ¹æ®è¾“å‡ºæ ¼å¼æ ¼å¼åŒ–å†…å®¹
2. æ„å»ºè¿”å›ç»“æœå¯¹è±¡
3. ä¿ç•™è¾“å…¥æ•°æ®ï¼ˆç”¨äºä¸‹æ¸¸èŠ‚ç‚¹ï¼‰
4. æ·»åŠ å…ƒæ•°æ®ï¼ˆæ¨¡å‹ã€ä½¿ç”¨æƒ…å†µç­‰ï¼‰
5. å­˜å‚¨ Memoryï¼ˆå¦‚æœè¿æ¥äº† Memory èŠ‚ç‚¹ï¼‰
   - æ ¹æ®è®°å¿†ç­–ç•¥å­˜å‚¨å¯¹è¯å†å²
   - å­˜å‚¨å…³é”®ä¿¡æ¯åˆ° Memory èŠ‚ç‚¹

## ğŸ“Š æ•°æ®ç»“æ„è®¾è®¡

### 1. è¯·æ±‚æ•°æ®ç»“æ„

```typescript
interface GPTAgentRequest {
  // API é…ç½®
  api_key: string
  api_url?: string
  model?: string
  
  // ç³»ç»Ÿæç¤ºè¯å’ŒæŒ‡ä»¤
  system_prompt?: string
  instructions?: string
  reasoning?: boolean
  
  // è¾“å…¥å†…å®¹
  input?: string | any[]
  input_content?: Array<{
    type: 'input_text' | 'input_image' | 'input_file'
    text?: string
    image_url?: string
    file_url?: string
    file_id?: string
  }>
  
  // æ–‡ä»¶ä¸Šä¼ 
  file_path?: string
  file_purpose?: string
  
  // MCP æœåŠ¡
  mcp_servers?: Array<{
    type: string
    server_label: string
    server_description: string
    server_url: string
    require_approval?: string
  }>
  
  // Agent é…ç½®
  agents?: Array<{
    name: string
    instructions: string
    handoffs?: string[]
  }>
  agent_handoffs?: Record<string, string[]>
  
  // æ•°æ®å¤„ç†
  input_data?: any
  data_processing_mode?: string
  data_limit_count?: number
  max_data_tokens?: number
  sample_strategy?: string
  
  // è¾“å‡ºé…ç½®
  output_format?: string
  temperature?: number
  max_tokens?: number
  
  // è¯·æ±‚é…ç½®
  timeout?: number
  max_retries?: number
  request_headers?: string
}
```

### 2. å“åº”æ•°æ®ç»“æ„

```typescript
interface GPTAgentResponse {
  // è¾“å…¥æ•°æ®ï¼ˆä¿ç•™ï¼‰
  input_data?: any
  hasData: boolean
  
  // GPT Agent å“åº”
  gpt_agent_response: {
    model: string
    content: string
    usage?: {
      prompt_tokens: number
      completion_tokens: number
      total_tokens: number
    }
    raw_response?: any
    system_prompt?: string
    instructions?: string
  }
  
  // å¤„ç†åçš„æ•°æ®
  data: any
  gpt_agent_output: string
  
  // è¾“å‡ºæ ¼å¼
  output_format: string
  
  // æ–‡ä»¶ IDï¼ˆå¦‚æœä¸Šä¼ äº†æ–‡ä»¶ï¼‰
  file_id?: string
}
```

## ğŸ¨ UI/UX è®¾è®¡

### 1. é…ç½®ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GPT Agent èŠ‚ç‚¹é…ç½®                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [åŸºæœ¬é…ç½®] [é«˜çº§é…ç½®]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€ API é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ API Key: [********]            â”‚    â”‚
â”‚  â”‚ API URL: [https://...]         â”‚    â”‚
â”‚  â”‚ æ¨¡å‹ç‰ˆæœ¬: [gpt-5 â–¼]            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ ç³»ç»Ÿæç¤ºè¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ç³»ç»Ÿæç¤ºè¯: [å¤šè¡Œæ–‡æœ¬]          â”‚    â”‚
â”‚  â”‚ Instructions: [å¤šè¡Œæ–‡æœ¬]        â”‚    â”‚
â”‚  â”‚ â˜‘ å¯ç”¨æ¨ç†æ¨¡å¼                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ è¾“å…¥å†…å®¹é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [+ æ·»åŠ æ–‡å­—] [+ æ·»åŠ å›¾ç‰‡]      â”‚    â”‚
â”‚  â”‚        [+ æ·»åŠ æ–‡ä»¶]            â”‚    â”‚
â”‚  â”‚                                â”‚    â”‚
â”‚  â”‚ [è¾“å…¥é¡¹1: æ–‡å­—] [åˆ é™¤]         â”‚    â”‚
â”‚  â”‚ [è¾“å…¥é¡¹2: å›¾ç‰‡] [åˆ é™¤]         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ æ–‡ä»¶ä¸Šä¼ é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ–‡ä»¶è·¯å¾„: [é€‰æ‹©æ–‡ä»¶...]         â”‚    â”‚
â”‚  â”‚ æ–‡ä»¶ç”¨é€”: [user_data â–¼]        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. é«˜çº§é…ç½®ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [åŸºæœ¬é…ç½®] [é«˜çº§é…ç½®]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€ MCP æœåŠ¡é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [+ æ·»åŠ  MCP æœåŠ¡å™¨]             â”‚    â”‚
â”‚  â”‚                                â”‚    â”‚
â”‚  â”‚ [MCP æœåŠ¡å™¨ 1] [åˆ é™¤]          â”‚    â”‚
â”‚  â”‚   æ ‡ç­¾: [dmcp]                 â”‚    â”‚
â”‚  â”‚   æè¿°: [å¤šè¡Œæ–‡æœ¬]              â”‚    â”‚
â”‚  â”‚   URL: [https://...]           â”‚    â”‚
â”‚  â”‚   éœ€è¦æ‰¹å‡†: [never â–¼]          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ æ•°æ®å¤„ç†é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ•°æ®å¤„ç†æ¨¡å¼: [smart â–¼]        â”‚    â”‚
â”‚  â”‚ æ•°æ®Tokené™åˆ¶: [4000]          â”‚    â”‚
â”‚  â”‚ é‡‡æ ·ç­–ç•¥: [head_tail â–¼]        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ è¾“å‡ºé…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è¾“å‡ºæ ¼å¼: [json â–¼]             â”‚    â”‚
â”‚  â”‚ Temperature: [0.7]             â”‚    â”‚
â”‚  â”‚ æœ€å¤§è¾“å‡ºé•¿åº¦: [2000]           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ è¯·æ±‚é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è¯·æ±‚è¶…æ—¶: [60] ç§’              â”‚    â”‚
â”‚  â”‚ æœ€å¤§é‡è¯•: [3] æ¬¡               â”‚    â”‚
â”‚  â”‚ è¯·æ±‚å¤´: [JSON æ–‡æœ¬]            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ Memory é…ç½®ï¼ˆå¤–æ¥èŠ‚ç‚¹ï¼‰â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ å¯ç”¨è®°å¿†åŠŸèƒ½                  â”‚    â”‚
â”‚  â”‚ Memory è¿æ¥: [âœ“ å·²è¿æ¥]        â”‚    â”‚
â”‚  â”‚ è®°å¿†ç­–ç•¥: [auto â–¼]             â”‚    â”‚
â”‚  â”‚ è®°å¿†ç±»å‹: [workflow â–¼]         â”‚    â”‚
â”‚  â”‚ è®°å¿†è¿‡æœŸæ—¶é—´: [0] ç§’           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ Tool é…ç½®ï¼ˆå¤–æ¥èŠ‚ç‚¹ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ å¯ç”¨å·¥å…·åŠŸèƒ½                  â”‚    â”‚
â”‚  â”‚ Tool è¿æ¥: [âœ“ å·²è¿æ¥]          â”‚    â”‚
â”‚  â”‚ å·¥å…·ç±»å‹: [code â–¼]             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ é›†æˆè®¾è®¡

### 1. ä¸Šæ¸¸èŠ‚ç‚¹é›†æˆ
- **è§£ææ–‡ä»¶èŠ‚ç‚¹**ï¼šè‡ªåŠ¨è·å–è§£æåçš„æ•°æ®
- **æ•°æ®æ“ä½œèŠ‚ç‚¹**ï¼šè‡ªåŠ¨è·å–å¤„ç†åçš„æ•°æ®
- **å…¶ä»– AI èŠ‚ç‚¹**ï¼šè‡ªåŠ¨è·å– AI åˆ†æç»“æœ

### 2. ä¸‹æ¸¸èŠ‚ç‚¹é›†æˆ
- **æ•°æ®æ“ä½œèŠ‚ç‚¹**ï¼šä¼ é€’å¤„ç†åçš„æ•°æ®
- **å¯¼å‡ºæ–‡ä»¶èŠ‚ç‚¹**ï¼šä¼ é€’æ ¼å¼åŒ–åçš„æ•°æ®
- **å…¶ä»–èŠ‚ç‚¹**ï¼šä¼ é€’é€šç”¨æ•°æ®æ ¼å¼

### 3. Memory èŠ‚ç‚¹é›†æˆï¼ˆå¤–æ¥ï¼‰
- **è¿æ¥æ–¹å¼**ï¼šä» GPT Agent èŠ‚ç‚¹åº•éƒ¨çš„ Memory ç«¯å£ï¼ˆğŸ’¾ï¼‰è¿æ¥åˆ° Memory èŠ‚ç‚¹
- **åŠŸèƒ½**ï¼š
  - **æ£€ç´¢è®°å¿†**ï¼šåœ¨æ‰§è¡Œå‰è‡ªåŠ¨æ£€ç´¢ç›¸å…³ä¸Šä¸‹æ–‡ä¿¡æ¯
  - **å­˜å‚¨è®°å¿†**ï¼šåœ¨æ‰§è¡Œåè‡ªåŠ¨å­˜å‚¨å¯¹è¯å†å²æˆ–å…³é”®ä¿¡æ¯
- **é…ç½®**ï¼šé€šè¿‡ `memory_config` é…ç½®è®°å¿†ç­–ç•¥å’Œç±»å‹
- **å¯é€‰æ€§**ï¼šMemory èŠ‚ç‚¹æ˜¯å¯é€‰çš„ï¼Œä¸è¿æ¥æ—¶ä¸å½±å“åŸºæœ¬åŠŸèƒ½

### 4. Tool èŠ‚ç‚¹é›†æˆï¼ˆå¤–æ¥ï¼‰
- **è¿æ¥æ–¹å¼**ï¼šä» GPT Agent èŠ‚ç‚¹åº•éƒ¨çš„ Tool ç«¯å£ï¼ˆğŸ”§ï¼‰è¿æ¥åˆ° Tool èŠ‚ç‚¹ï¼ˆå¦‚ä»£ç å·¥å…·ï¼‰
- **åŠŸèƒ½**ï¼š
  - **å·¥å…·å‡½æ•°**ï¼šè·å–å·¥å…·èŠ‚ç‚¹æä¾›çš„å‡½æ•°åˆ—è¡¨
  - **è‡ªåŠ¨è°ƒç”¨**ï¼šGPT Agent å¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨è°ƒç”¨å·¥å…·å‡½æ•°
  - **æ‰©å±•èƒ½åŠ›**ï¼šæ”¯æŒä»£ç æ‰§è¡Œã€API è°ƒç”¨ç­‰æ‰©å±•åŠŸèƒ½
- **é…ç½®**ï¼šé€šè¿‡ `tool_config` é…ç½®å·¥å…·ç±»å‹å’Œå‡½æ•°åˆ—è¡¨
- **å¯é€‰æ€§**ï¼šTool èŠ‚ç‚¹æ˜¯å¯é€‰çš„ï¼Œä¸è¿æ¥æ—¶ä¸å½±å“åŸºæœ¬åŠŸèƒ½

### 3. é”™è¯¯å¤„ç†
- **é…ç½®é”™è¯¯**ï¼šåœ¨é…ç½®é˜¶æ®µéªŒè¯å¹¶æç¤º
- **API é”™è¯¯**ï¼šæ•è·å¹¶æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
- **ç½‘ç»œé”™è¯¯**ï¼šè‡ªåŠ¨é‡è¯•ï¼Œæ˜¾ç¤ºé‡è¯•çŠ¶æ€
- **æ•°æ®é”™è¯¯**ï¼šéªŒè¯æ•°æ®æ ¼å¼ï¼Œæä¾›ä¿®å¤å»ºè®®

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç®€å•æ–‡æœ¬è¾“å…¥
```json
{
  "api_key": "sk-...",
  "api_url": "https://api.openai.com/v1/responses",
  "model": "gpt-5",
  "system_prompt": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹",
  "input_content": [
    {
      "type": "input_text",
      "text": "è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š..."
    }
  ]
}
```

### ç¤ºä¾‹ 2ï¼šå¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡å­—+å›¾ç‰‡ï¼‰
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "input_content": [
    {
      "type": "input_text",
      "text": "What teams are playing in this image?"
    },
    {
      "type": "input_image",
      "image_url": "https://example.com/image.jpg"
    }
  ]
}
```

### ç¤ºä¾‹ 3ï¼šæ–‡ä»¶ä¸Šä¼ å’Œåˆ†æ
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "file_path": "/path/to/document.pdf",
  "file_purpose": "user_data",
  "input_content": [
    {
      "type": "input_file",
      "file_id": "file_abc123"
    },
    {
      "type": "input_text",
      "text": "What is the first dragon in the book?"
    }
  ]
}
```

### ç¤ºä¾‹ 4ï¼šMCP æœåŠ¡è°ƒç”¨
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "mcp_servers": [
    {
      "type": "mcp",
      "server_label": "dmcp",
      "server_description": "A Dungeons and Dragons MCP server",
      "server_url": "https://dmcp-server.deno.dev/sse",
      "require_approval": "never"
    }
  ],
  "input": "Roll 2d4+1"
}
```

### ç¤ºä¾‹ 5ï¼šå¤š Agent åä½œ
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "agents": [
    {
      "name": "spanish_agent",
      "instructions": "You only speak Spanish.",
      "handoffs": []
    },
    {
      "name": "english_agent",
      "instructions": "You only speak English.",
      "handoffs": []
    },
    {
      "name": "triage_agent",
      "instructions": "Handoff to the appropriate agent based on the language.",
      "handoffs": ["spanish_agent", "english_agent"]
    }
  ],
  "input": "Hola, Â¿cÃ³mo estÃ¡s?"
}
```

## ğŸš€ å®ç°è®¡åˆ’

### é˜¶æ®µ 1ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
- âœ… API é…ç½®
- âœ… ç³»ç»Ÿæç¤ºè¯å’ŒæŒ‡ä»¤
- âœ… åŸºç¡€è¾“å…¥è¾“å‡º
- âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

### é˜¶æ®µ 2ï¼šé«˜çº§åŠŸèƒ½ï¼ˆè¿›è¡Œä¸­ï¼‰
- â³ MCP æœåŠ¡é›†æˆ
- â³ å¤š Agent åä½œ
- â³ å®Œæ•´çš„æ•°æ®å¤„ç†é€»è¾‘
- â³ é”™è¯¯å¤„ç†å’Œé‡è¯•

### é˜¶æ®µ 3ï¼šä¼˜åŒ–å’Œæ‰©å±•
- â³ æ€§èƒ½ä¼˜åŒ–
- â³ ç¼“å­˜æœºåˆ¶
- â³ æ‰¹é‡å¤„ç†
- â³ æµå¼è¾“å‡ºæ”¯æŒ

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **API Key å®‰å…¨**ï¼šAPI Key åº”è¯¥åŠ å¯†å­˜å‚¨ï¼Œä¸åœ¨æ—¥å¿—ä¸­æ˜¾ç¤º
2. **Token é™åˆ¶**ï¼šæ³¨æ„å¤„ç†å¤§æ–‡ä»¶æ—¶çš„ Token é™åˆ¶
3. **é”™è¯¯å¤„ç†**ï¼šæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œä¿®å¤å»ºè®®
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯¹äºå¤§æ–‡ä»¶ï¼Œè€ƒè™‘å¼‚æ­¥å¤„ç†å’Œè¿›åº¦æ˜¾ç¤º
5. **å…¼å®¹æ€§**ï¼šç¡®ä¿ä¸ç°æœ‰èŠ‚ç‚¹ç³»ç»Ÿçš„å…¼å®¹æ€§
6. **Memory è¿æ¥**ï¼šMemory èŠ‚ç‚¹æ˜¯å¯é€‰çš„ï¼Œä½†å¯ç”¨è®°å¿†åŠŸèƒ½æ—¶éœ€è¦è¿æ¥ Memory èŠ‚ç‚¹
7. **Tool è¿æ¥**ï¼šTool èŠ‚ç‚¹æ˜¯å¯é€‰çš„ï¼Œä½†å¯ç”¨å·¥å…·åŠŸèƒ½æ—¶éœ€è¦è¿æ¥ Tool èŠ‚ç‚¹ï¼ˆå¦‚ä»£ç å·¥å…·ï¼‰
8. **è¿æ¥æ£€æµ‹**ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ Memory å’Œ Tool èŠ‚ç‚¹çš„è¿æ¥çŠ¶æ€ï¼Œå¹¶åœ¨é…ç½®ç•Œé¢æ˜¾ç¤º

## ğŸ”Œ API æ¥å£è®¾è®¡

### 1. æ‰§è¡Œ GPT Agent

#### 1.1 æ¥å£ä¿¡æ¯
- **ç«¯ç‚¹**ï¼š`POST /api/v1/gpt-agent/execute`
- **æè¿°**ï¼šæ‰§è¡Œ GPT Agentï¼Œè°ƒç”¨ ChatGPT Responses API
- **è®¤è¯**ï¼šæ— éœ€é¢å¤–è®¤è¯ï¼ˆAPI Key åœ¨è¯·æ±‚ä½“ä¸­ï¼‰

#### 1.2 è¯·æ±‚å‚æ•°

**è¯·æ±‚ä½“**ï¼š`GPTAgentRequest` (JSON)

```typescript
interface GPTAgentRequest {
  // ========== API é…ç½®ï¼ˆå¿…éœ€ï¼‰==========
  api_key: string                    // OpenAI API Keyï¼ˆå¿…éœ€ï¼‰
  api_url?: string                   // API åœ°å€ï¼ˆé»˜è®¤ï¼šhttps://api.openai.com/v1/responsesï¼‰
  model?: string                     // æ¨¡å‹ç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼šgpt-5ï¼‰
  
  // ========== ç³»ç»Ÿæç¤ºè¯å’ŒæŒ‡ä»¤ï¼ˆå¯é€‰ï¼‰==========
  system_prompt?: string             // ç³»ç»Ÿæç¤ºè¯
  instructions?: string              // å¯é‡ç”¨æç¤ºè¯æ¨¡æ¿
  reasoning?: boolean                // æ˜¯å¦å¯ç”¨æ¨ç†æ¨¡å¼
  
  // ========== è¾“å…¥å†…å®¹ï¼ˆå¯é€‰ï¼Œè‡³å°‘æä¾›ä¸€ä¸ªï¼‰==========
  input?: string | any[]            // ç®€å•è¾“å…¥ï¼ˆå­—ç¬¦ä¸²æˆ–æ¶ˆæ¯æ•°ç»„ï¼‰
  input_content?: Array<{           // ç»“æ„åŒ–è¾“å…¥å†…å®¹é¡¹
    type: 'input_text' | 'input_image' | 'input_file'
    text?: string                    // input_text æ—¶ä½¿ç”¨
    image_url?: string              // input_image æ—¶ä½¿ç”¨
    file_url?: string               // input_file æ—¶ä½¿ç”¨ URL
    file_id?: string                // input_file æ—¶ä½¿ç”¨å·²ä¸Šä¼ çš„æ–‡ä»¶ID
  }>
  
  // ========== æ–‡ä»¶ä¸Šä¼ ï¼ˆå¯é€‰ï¼‰==========
  file_path?: string                // æœ¬åœ°æ–‡ä»¶è·¯å¾„
  file_purpose?: string             // æ–‡ä»¶ç”¨é€”ï¼ˆé»˜è®¤ï¼šuser_dataï¼‰
  
  // ========== MCP æœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼‰==========
  mcp_servers?: Array<{
    type: string                     // å›ºå®šå€¼ï¼š'mcp'
    server_label: string            // æœåŠ¡å™¨æ ‡ç­¾ï¼ˆå¿…éœ€ï¼‰
    server_description: string      // æœåŠ¡å™¨æè¿°ï¼ˆå¿…éœ€ï¼‰
    server_url: string              // æœåŠ¡å™¨ URLï¼ˆå¿…éœ€ï¼‰
    require_approval?: string       // æ‰¹å‡†ç­–ç•¥ï¼ˆé»˜è®¤ï¼š'never'ï¼‰
  }>
  
  // ========== Agent é…ç½®ï¼ˆå¯é€‰ï¼Œå¤š Agent åä½œï¼‰==========
  agents?: Array<{
    name: string                     // Agent åç§°ï¼ˆå¿…éœ€ï¼‰
    instructions: string             // Agent æŒ‡ä»¤ï¼ˆå¿…éœ€ï¼‰
    handoffs?: string[]             // å¯è½¬äº¤çš„ Agent åç§°åˆ—è¡¨
  }>
  agent_handoffs?: Record<string, string[]>  // Agent è½¬äº¤å…³ç³»æ˜ å°„
  
  // ========== æ•°æ®å¤„ç†é…ç½®ï¼ˆå¯é€‰ï¼‰==========
  input_data?: any                   // ä¸Šæ¸¸èŠ‚ç‚¹çš„æ•°æ®
  data_processing_mode?: string     // æ•°æ®å¤„ç†æ¨¡å¼ï¼ˆé»˜è®¤ï¼š'smart'ï¼‰
  data_limit_count?: number         // æ•°æ®æ¡æ•°é™åˆ¶ï¼ˆlimit æ¨¡å¼ï¼‰
  max_data_tokens?: number          // æ•°æ®Tokené™åˆ¶ï¼ˆsmart æ¨¡å¼ï¼Œé»˜è®¤ï¼š4000ï¼‰
  sample_strategy?: string          // é‡‡æ ·ç­–ç•¥ï¼ˆé»˜è®¤ï¼š'head_tail'ï¼‰
  
  // ========== è¾“å‡ºé…ç½®ï¼ˆå¯é€‰ï¼‰==========
  output_format?: string            // è¾“å‡ºæ ¼å¼ï¼ˆé»˜è®¤ï¼š'json'ï¼‰
  temperature?: number              // Temperatureï¼ˆé»˜è®¤ï¼š0.7ï¼‰
  max_tokens?: number               // æœ€å¤§è¾“å‡ºé•¿åº¦ï¼ˆé»˜è®¤ï¼š2000ï¼‰
  
  // ========== è¯·æ±‚é…ç½®ï¼ˆå¯é€‰ï¼‰==========
  timeout?: number                  // è¯·æ±‚è¶…æ—¶ï¼ˆç§’ï¼Œé»˜è®¤ï¼š60ï¼‰
  max_retries?: number              // æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ï¼š3ï¼‰
  request_headers?: string          // è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆJSON å­—ç¬¦ä¸²ï¼‰
  
  // ========== Memory é…ç½®ï¼ˆå¯é€‰ï¼Œå¤–æ¥ Memory èŠ‚ç‚¹ï¼‰==========
  use_memory?: boolean              // æ˜¯å¦å¯ç”¨è®°å¿†åŠŸèƒ½
  memory_config?: {                 // è®°å¿†é…ç½®
    memory_type?: string            // è®°å¿†ç±»å‹ï¼šworkflow, session, global
    memory_strategy?: string        // è®°å¿†ç­–ç•¥ï¼šauto, key_only, manual
    memory_ttl?: number            // è®°å¿†è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼Œ0è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼‰
  }
  memory_connected?: boolean        // æ˜¯å¦å·²è¿æ¥ Memory èŠ‚ç‚¹
  
  // ========== Tool é…ç½®ï¼ˆå¯é€‰ï¼Œå¤–æ¥ Tool èŠ‚ç‚¹ï¼‰==========
  use_tool?: boolean                // æ˜¯å¦å¯ç”¨å·¥å…·åŠŸèƒ½
  tool_connected?: boolean          // æ˜¯å¦å·²è¿æ¥ Tool èŠ‚ç‚¹
  tool_config?: {                   // å·¥å…·é…ç½®
    tool_type?: string              // å·¥å…·ç±»å‹ï¼šcode, api, custom
    tool_functions?: Array<{        // å·¥å…·å‡½æ•°åˆ—è¡¨
      name: string                  // å‡½æ•°åç§°
      description: string          // å‡½æ•°æè¿°
      parameters?: any             // å‡½æ•°å‚æ•°
    }>
  }
}
```

#### 1.3 è¯·æ±‚ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šç®€å•æ–‡æœ¬è¾“å…¥**
```json
{
  "api_key": "sk-...",
  "api_url": "https://api.openai.com/v1/responses",
  "model": "gpt-5",
  "system_prompt": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹",
  "input_content": [
    {
      "type": "input_text",
      "text": "è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š..."
    }
  ]
}
```

**ç¤ºä¾‹ 2ï¼šå¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡å­—+å›¾ç‰‡ï¼‰**
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "input_content": [
    {
      "type": "input_text",
      "text": "What teams are playing in this image?"
    },
    {
      "type": "input_image",
      "image_url": "https://upload.wikimedia.org/wikipedia/commons/3/3b/LeBron_James_Layup.jpg"
    }
  ]
}
```

**ç¤ºä¾‹ 3ï¼šæ–‡ä»¶ä¸Šä¼ å’Œåˆ†æ**
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "file_path": "/path/to/draconomicon.pdf",
  "file_purpose": "user_data",
  "input_content": [
    {
      "type": "input_file",
      "file_id": "file_abc123"
    },
    {
      "type": "input_text",
      "text": "What is the first dragon in the book?"
    }
  ]
}
```

**ç¤ºä¾‹ 4ï¼šMCP æœåŠ¡è°ƒç”¨**
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "mcp_servers": [
    {
      "type": "mcp",
      "server_label": "dmcp",
      "server_description": "A Dungeons and Dragons MCP server to assist with dice rolling.",
      "server_url": "https://dmcp-server.deno.dev/sse",
      "require_approval": "never"
    }
  ],
  "input": "Roll 2d4+1"
}
```

**ç¤ºä¾‹ 5ï¼šå¤š Agent åä½œ**
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "agents": [
    {
      "name": "spanish_agent",
      "instructions": "You only speak Spanish.",
      "handoffs": []
    },
    {
      "name": "english_agent",
      "instructions": "You only speak English.",
      "handoffs": []
    },
    {
      "name": "triage_agent",
      "instructions": "Handoff to the appropriate agent based on the language of the request.",
      "handoffs": ["spanish_agent", "english_agent"]
    }
  ],
  "input": "Hola, Â¿cÃ³mo estÃ¡s?"
}
```

**ç¤ºä¾‹ 6ï¼šä½¿ç”¨ Memory å’Œ Toolï¼ˆå¤–æ¥èŠ‚ç‚¹ï¼‰**
```json
{
  "api_key": "sk-...",
  "model": "gpt-5",
  "system_prompt": "ä½ æ˜¯ä¸€ä¸ªæ•°æ®åˆ†æåŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç å·¥å…·å¤„ç†æ•°æ®",
  "input_content": [
    {
      "type": "input_text",
      "text": "åˆ†æä»¥ä¸‹æ•°æ®å¹¶è®¡ç®—å¹³å‡å€¼ï¼š..."
    }
  ],
  "use_memory": true,
  "memory_connected": true,
  "memory_config": {
    "memory_type": "workflow",
    "memory_strategy": "auto",
    "memory_ttl": 0
  },
  "use_tool": true,
  "tool_connected": true,
  "tool_config": {
    "tool_type": "code",
    "tool_functions": [
      {
        "name": "execute_python",
        "description": "æ‰§è¡Œ Python ä»£ç ç‰‡æ®µ",
        "parameters": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "description": "è¦æ‰§è¡Œçš„ Python ä»£ç "
            }
          },
          "required": ["code"]
        }
      },
      {
        "name": "calculate_statistics",
        "description": "è®¡ç®—æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ï¼‰",
        "parameters": {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "description": "è¦è®¡ç®—çš„æ•°æ®æ•°ç»„"
            }
          },
          "required": ["data"]
        }
      }
    ]
  }
}
```

**è¯´æ˜**ï¼š
- **Memory èŠ‚ç‚¹**ï¼šä»åº•éƒ¨ Memory ç«¯å£ï¼ˆğŸ’¾ï¼‰è¿æ¥ Memory èŠ‚ç‚¹ï¼Œç”¨äºå­˜å‚¨å’Œæ£€ç´¢ä¸Šä¸‹æ–‡ä¿¡æ¯
- **Tool èŠ‚ç‚¹**ï¼šä»åº•éƒ¨ Tool ç«¯å£ï¼ˆğŸ”§ï¼‰è¿æ¥ Tool èŠ‚ç‚¹ï¼ˆå¦‚ä»£ç å·¥å…·ï¼‰ï¼Œæ‰©å±• GPT Agent çš„åŠŸèƒ½
- **è‡ªåŠ¨é›†æˆ**ï¼šGPT Agent ä¼šè‡ªåŠ¨æ£€ç´¢ Memory ä¸Šä¸‹æ–‡ï¼Œå¹¶åœ¨éœ€è¦æ—¶è°ƒç”¨ Tool åŠŸèƒ½

#### 1.4 å“åº”æ ¼å¼

**æˆåŠŸå“åº”**ï¼š`GPTAgentResponse` (JSON)

```typescript
interface GPTAgentResponse {
  success: boolean                   // æ˜¯å¦æˆåŠŸï¼ˆtrueï¼‰
  message: string                    // å“åº”æ¶ˆæ¯
  data: {
    // è¾“å…¥æ•°æ®ï¼ˆä¿ç•™ï¼‰
    input_data?: any
    hasData: boolean
    
    // GPT Agent å“åº”
    gpt_agent_response: {
      model: string                  // ä½¿ç”¨çš„æ¨¡å‹åç§°
      content: string                // AI ç”Ÿæˆçš„æ–‡æœ¬å†…å®¹
      usage?: {                      // Token ä½¿ç”¨æƒ…å†µ
        prompt_tokens: number
        completion_tokens: number
        total_tokens: number
      }
      raw_response?: any            // åŸå§‹ API å“åº”
      system_prompt?: string        // ç³»ç»Ÿæç¤ºè¯
      instructions?: string         // Instructions
    }
    
    // å¤„ç†åçš„æ•°æ®
    data: any                       // æ ¼å¼åŒ–åçš„æ•°æ®
    gpt_agent_output: string       // åŸå§‹å›ç­”å†…å®¹
    
    // è¾“å‡ºæ ¼å¼
    output_format: string           // è¾“å‡ºæ ¼å¼ï¼ˆjson/text/structured/markdownï¼‰
    
    // æ–‡ä»¶ IDï¼ˆå¦‚æœä¸Šä¼ äº†æ–‡ä»¶ï¼‰
    file_id?: string                // ä¸Šä¼ çš„æ–‡ä»¶ID
  }
}
```

**æˆåŠŸå“åº”ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "message": "GPT Agent æ‰§è¡ŒæˆåŠŸ",
  "data": {
    "input_data": {...},
    "hasData": true,
    "gpt_agent_response": {
      "model": "gpt-5",
      "content": "æ ¹æ®åˆ†æï¼Œæ•°æ®ä¸­åŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š...",
      "usage": {
        "prompt_tokens": 150,
        "completion_tokens": 200,
        "total_tokens": 350
      },
      "raw_response": {...},
      "system_prompt": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹",
      "instructions": null
    },
    "data": {
      "analysis": "...",
      "summary": "..."
    },
    "gpt_agent_output": "æ ¹æ®åˆ†æï¼Œæ•°æ®ä¸­åŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š...",
    "output_format": "json",
    "file_id": "file_abc123"
  }
}
```

**é”™è¯¯å“åº”**ï¼š
```json
{
  "success": false,
  "message": "é”™è¯¯æ¶ˆæ¯",
  "detail": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
}
```

**å¸¸è§é”™è¯¯ç **ï¼š
- `400`ï¼šè¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆç¼ºå°‘å¿…éœ€å‚æ•°ã€å‚æ•°æ ¼å¼é”™è¯¯ï¼‰
- `401`ï¼šAPI Key è®¤è¯å¤±è´¥
- `429`ï¼šè¯·æ±‚é¢‘ç‡è¶…é™
- `500`ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯
- `504`ï¼šè¯·æ±‚è¶…æ—¶

#### 1.5 é”™è¯¯å¤„ç†

**é”™è¯¯å“åº”æ ¼å¼**ï¼š
```typescript
interface ErrorResponse {
  success: false
  message: string                    // é”™è¯¯æ¶ˆæ¯
  detail?: string                    // è¯¦ç»†é”™è¯¯ä¿¡æ¯
  error_type?: string                // é”™è¯¯ç±»å‹
  status_code?: number               // HTTP çŠ¶æ€ç 
}
```

**é”™è¯¯ç±»å‹**ï¼š
- `API_ERROR`ï¼šAPI è°ƒç”¨é”™è¯¯
- `AUTH_ERROR`ï¼šè®¤è¯é”™è¯¯
- `RATE_LIMIT`ï¼šè¯·æ±‚é¢‘ç‡è¶…é™
- `TOKEN_LIMIT`ï¼šToken æ•°é‡è¶…å‡ºé™åˆ¶
- `QUOTA_EXCEEDED`ï¼šAPI é…é¢å·²ç”¨å®Œ
- `TIMEOUT`ï¼šè¯·æ±‚è¶…æ—¶
- `NETWORK_ERROR`ï¼šç½‘ç»œè¿æ¥é”™è¯¯
- `VALIDATION_ERROR`ï¼šå‚æ•°éªŒè¯é”™è¯¯

**é”™è¯¯å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "success": false,
  "message": "GPT Agent æ‰§è¡Œå¤±è´¥",
  "detail": "API Key æ— æ•ˆæˆ–å·²è¿‡æœŸ",
  "error_type": "AUTH_ERROR",
  "status_code": 401
}
```

---

### 2. ä¸Šä¼ æ–‡ä»¶åˆ° OpenAI

#### 2.1 æ¥å£ä¿¡æ¯
- **ç«¯ç‚¹**ï¼š`POST /api/v1/gpt-agent/upload-file`
- **æè¿°**ï¼šä¸Šä¼ æ–‡ä»¶åˆ° OpenAI Files API
- **è®¤è¯**ï¼šæ— éœ€é¢å¤–è®¤è¯ï¼ˆAPI Key åœ¨è¯·æ±‚ä½“ä¸­ï¼‰

#### 2.2 è¯·æ±‚å‚æ•°

**è¯·æ±‚ä½“**ï¼š`multipart/form-data`

| å‚æ•°å | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|--------|------|------|------|
| `file` | File | æ˜¯ | è¦ä¸Šä¼ çš„æ–‡ä»¶ |
| `api_key` | string | æ˜¯ | OpenAI API Key |
| `purpose` | string | å¦ | æ–‡ä»¶ç”¨é€”ï¼ˆé»˜è®¤ï¼š`user_data`ï¼‰ |

**æ”¯æŒçš„ `purpose` å€¼**ï¼š
- `user_data`ï¼šç”¨æˆ·æ•°æ®æ–‡ä»¶ï¼ˆé»˜è®¤ï¼‰
- `assistant`ï¼šåŠ©æ‰‹æ–‡ä»¶

#### 2.3 è¯·æ±‚ç¤ºä¾‹

**cURL ç¤ºä¾‹**ï¼š
```bash
curl -X POST "http://localhost:8001/api/v1/gpt-agent/upload-file" \
  -F "file=@/path/to/document.pdf" \
  -F "api_key=sk-..." \
  -F "purpose=user_data"
```

**JavaScript ç¤ºä¾‹**ï¼š
```javascript
const formData = new FormData()
formData.append('file', file)
formData.append('api_key', 'sk-...')
formData.append('purpose', 'user_data')

const response = await fetch('/api/v1/gpt-agent/upload-file', {
  method: 'POST',
  body: formData
})
```

#### 2.4 å“åº”æ ¼å¼

**æˆåŠŸå“åº”**ï¼š
```json
{
  "success": true,
  "message": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸ",
  "data": {
    "file_id": "file_abc123",
    "filename": "document.pdf",
    "purpose": "user_data"
  }
}
```

**é”™è¯¯å“åº”**ï¼š
```json
{
  "success": false,
  "message": "æ–‡ä»¶ä¸Šä¼ å¤±è´¥",
  "detail": "æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®"
}
```

#### 2.5 æ–‡ä»¶é™åˆ¶

- **æœ€å¤§æ–‡ä»¶å¤§å°**ï¼šæ ¹æ® OpenAI API é™åˆ¶ï¼ˆé€šå¸¸ä¸º 512MBï¼‰
- **æ”¯æŒçš„æ–‡ä»¶ç±»å‹**ï¼šPDFã€TXTã€DOCXã€XLSX ç­‰ï¼ˆæ ¹æ® OpenAI API æ”¯æŒï¼‰
- **æ–‡ä»¶ç”¨é€”**ï¼š
  - `user_data`ï¼šç”¨äºç”¨æˆ·æ•°æ®åˆ†æå’Œå¤„ç†
  - `assistant`ï¼šç”¨äºåŠ©æ‰‹è®­ç»ƒå’ŒçŸ¥è¯†åº“

---

### 3. æ¥å£ä½¿ç”¨æµç¨‹

#### 3.1 åŸºæœ¬ä½¿ç”¨æµç¨‹

```
1. é…ç½® API Key å’Œæ¨¡å‹
   â†“
2. é…ç½®è¾“å…¥å†…å®¹ï¼ˆæ–‡å­—/å›¾ç‰‡/æ–‡ä»¶ï¼‰
   â†“
3. ï¼ˆå¯é€‰ï¼‰ä¸Šä¼ æ–‡ä»¶è·å– file_id
   â†“
4. è°ƒç”¨ /gpt-agent/execute æ¥å£
   â†“
5. å¤„ç†å“åº”ç»“æœ
```

#### 3.2 å¸¦æ–‡ä»¶ä¸Šä¼ çš„æµç¨‹

```
1. é…ç½® API Key
   â†“
2. ä¸Šä¼ æ–‡ä»¶åˆ° /gpt-agent/upload-file
   â†“
3. è·å– file_id
   â†“
4. åœ¨ input_content ä¸­ä½¿ç”¨ file_id
   â†“
5. è°ƒç”¨ /gpt-agent/execute æ¥å£
   â†“
6. å¤„ç†å“åº”ç»“æœ
```

#### 3.3 å¤š Agent åä½œæµç¨‹

```
1. é…ç½®å¤šä¸ª Agentï¼ˆæ¯ä¸ª Agent æœ‰ç‹¬ç«‹çš„æŒ‡ä»¤ï¼‰
   â†“
2. é…ç½® Agent è½¬äº¤å…³ç³»
   â†“
3. è°ƒç”¨ /gpt-agent/execute æ¥å£
   â†“
4. GPT Agent æ ¹æ®è¾“å…¥è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ Agent
   â†“
5. æ”¯æŒ Agent ä¹‹é—´çš„åä½œå’Œè½¬äº¤
   â†“
6. è¿”å›æœ€ç»ˆç»“æœ
```

#### 3.4 ä½¿ç”¨ Memory å’Œ Tool çš„æµç¨‹

```
1. è¿æ¥ Memory èŠ‚ç‚¹ï¼ˆä»åº•éƒ¨ Memory ç«¯å£ï¼‰
   â†“
2. è¿æ¥ Tool èŠ‚ç‚¹ï¼ˆä»åº•éƒ¨ Tool ç«¯å£ï¼‰
   â†“
3. é…ç½® Memory å’Œ Tool é€‰é¡¹
   â†“
4. è°ƒç”¨ /gpt-agent/execute æ¥å£
   â†“
5. GPT Agent è‡ªåŠ¨æ£€ç´¢ Memory ä¸Šä¸‹æ–‡
   â†“
6. GPT Agent å¯ä»¥ä½¿ç”¨ Tool åŠŸèƒ½
   â†“
7. æ‰§è¡Œåè‡ªåŠ¨å­˜å‚¨åˆ° Memory
   â†“
8. è¿”å›æœ€ç»ˆç»“æœ
```

---

### 4. æ¥å£å‚æ•°è¯¦ç»†è¯´æ˜

#### 4.1 API é…ç½®å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `api_key` | string | æ˜¯ | - | OpenAI API Keyï¼Œæ ¼å¼ï¼š`sk-...` |
| `api_url` | string | å¦ | `https://api.openai.com/v1/responses` | ChatGPT Responses API ç«¯ç‚¹ |
| `model` | string | å¦ | `gpt-5` | æ¨¡å‹ç‰ˆæœ¬ï¼Œæ¨èï¼š`gpt-5`, `gpt-5-nano`, `gpt-4o` |

#### 4.2 è¾“å…¥å†…å®¹å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `input` | string \| array | å¦ | ç®€å•è¾“å…¥ï¼ˆå­—ç¬¦ä¸²æˆ–æ¶ˆæ¯æ•°ç»„ï¼‰ |
| `input_content` | array | å¦ | ç»“æ„åŒ–è¾“å…¥å†…å®¹é¡¹æ•°ç»„ |
| `input_content[].type` | string | æ˜¯ | è¾“å…¥ç±»å‹ï¼š`input_text`, `input_image`, `input_file` |
| `input_content[].text` | string | æ¡ä»¶ | `input_text` æ—¶å¿…éœ€ |
| `input_content[].image_url` | string | æ¡ä»¶ | `input_image` æ—¶å¿…éœ€ |
| `input_content[].file_url` | string | æ¡ä»¶ | `input_file` æ—¶ä½¿ç”¨ URL |
| `input_content[].file_id` | string | æ¡ä»¶ | `input_file` æ—¶ä½¿ç”¨å·²ä¸Šä¼ çš„æ–‡ä»¶ID |

**æ³¨æ„**ï¼š`input` å’Œ `input_content` è‡³å°‘æä¾›ä¸€ä¸ªï¼Œå¦‚æœéƒ½æ²¡æœ‰æä¾›ï¼Œå°†ä» `input_data` è‡ªåŠ¨æ„å»ºã€‚

#### 4.3 æ–‡ä»¶ä¸Šä¼ å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `file_path` | string | å¦ | - | æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œå°†ä¸Šä¼ åˆ° OpenAI Files API |
| `file_purpose` | string | å¦ | `user_data` | æ–‡ä»¶ç”¨é€”ï¼š`user_data`, `assistant` |

#### 4.4 MCP æœåŠ¡å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `mcp_servers` | array | å¦ | MCP æœåŠ¡å™¨é…ç½®æ•°ç»„ |
| `mcp_servers[].type` | string | æ˜¯ | å›ºå®šå€¼ï¼š`mcp` |
| `mcp_servers[].server_label` | string | æ˜¯ | æœåŠ¡å™¨æ ‡ç­¾ï¼ˆæ ‡è¯†ç¬¦ï¼‰ |
| `mcp_servers[].server_description` | string | æ˜¯ | æœåŠ¡å™¨åŠŸèƒ½æè¿° |
| `mcp_servers[].server_url` | string | æ˜¯ | æœåŠ¡å™¨ç«¯ç‚¹ URL |
| `mcp_servers[].require_approval` | string | å¦ | æ‰¹å‡†ç­–ç•¥ï¼š`never`, `always`, `on_first_use` |

#### 4.5 Agent é…ç½®å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `agents` | array | å¦ | Agent é…ç½®æ•°ç»„ |
| `agents[].name` | string | æ˜¯ | Agent åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼‰ |
| `agents[].instructions` | string | æ˜¯ | Agent çš„è¡Œä¸ºæŒ‡ä»¤ |
| `agents[].handoffs` | array | å¦ | å¯è½¬äº¤çš„ Agent åç§°åˆ—è¡¨ |
| `agent_handoffs` | object | å¦ | Agent è½¬äº¤å…³ç³»æ˜ å°„ï¼ˆAgent åç§° -> å¯è½¬äº¤çš„ Agent åˆ—è¡¨ï¼‰ |

#### 4.6 æ•°æ®å¤„ç†å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `input_data` | any | å¦ | - | ä¸Šæ¸¸èŠ‚ç‚¹çš„æ•°æ® |
| `data_processing_mode` | string | å¦ | `smart` | æ•°æ®å¤„ç†æ¨¡å¼ï¼š`direct`, `smart`, `limit`, `summary` |
| `data_limit_count` | number | æ¡ä»¶ | - | æ•°æ®æ¡æ•°é™åˆ¶ï¼ˆ`limit` æ¨¡å¼æ—¶å¿…éœ€ï¼‰ |
| `max_data_tokens` | number | æ¡ä»¶ | 4000 | æ•°æ®Tokené™åˆ¶ï¼ˆ`smart` æ¨¡å¼æ—¶ä½¿ç”¨ï¼‰ |
| `sample_strategy` | string | å¦ | `head_tail` | é‡‡æ ·ç­–ç•¥ï¼š`head_tail`, `uniform`, `head`, `random`, `diverse` |

#### 4.7 è¾“å‡ºé…ç½®å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `output_format` | string | å¦ | `json` | è¾“å‡ºæ ¼å¼ï¼š`json`, `text`, `structured`, `markdown` |
| `temperature` | number | å¦ | 0.7 | Temperatureï¼ˆ0-2ï¼‰ï¼Œæ§åˆ¶å›å¤çš„éšæœºæ€§ |
| `max_tokens` | number | å¦ | 2000 | æœ€å¤§è¾“å‡ºé•¿åº¦ï¼ˆToken æ•°é‡ï¼‰ |

#### 4.8 è¯·æ±‚é…ç½®å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `timeout` | number | å¦ | 60 | è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ |
| `max_retries` | number | å¦ | 3 | æœ€å¤§é‡è¯•æ¬¡æ•° |
| `request_headers` | string | å¦ | - | è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆJSON å­—ç¬¦ä¸²ï¼‰ |

#### 4.9 Memory é…ç½®å‚æ•°ï¼ˆå¤–æ¥ Memory èŠ‚ç‚¹ï¼‰

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `use_memory` | boolean | å¦ | false | æ˜¯å¦å¯ç”¨è®°å¿†åŠŸèƒ½ |
| `memory_connected` | boolean | å¦ | false | æ˜¯å¦å·²è¿æ¥ Memory èŠ‚ç‚¹ |
| `memory_config.memory_type` | string | æ¡ä»¶ | `workflow` | è®°å¿†ç±»å‹ï¼š`workflow`ï¼ˆå·¥ä½œæµçº§ï¼‰ã€`session`ï¼ˆä¼šè¯çº§ï¼‰ã€`global`ï¼ˆå…¨å±€çº§ï¼‰ |
| `memory_config.memory_strategy` | string | æ¡ä»¶ | `auto` | è®°å¿†ç­–ç•¥ï¼š`auto`ï¼ˆè‡ªåŠ¨å­˜å‚¨ï¼‰ã€`key_only`ï¼ˆå…³é”®ä¿¡æ¯ï¼‰ã€`manual`ï¼ˆæ‰‹åŠ¨æ§åˆ¶ï¼‰ |
| `memory_config.memory_ttl` | number | æ¡ä»¶ | 0 | è®°å¿†è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼Œ0è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼‰ |

**æ³¨æ„**ï¼šå¦‚æœ `use_memory` ä¸º `true`ï¼Œéœ€è¦è¿æ¥ Memory èŠ‚ç‚¹ï¼Œå¹¶é…ç½® `memory_config`ã€‚

#### 4.10 Tool é…ç½®å‚æ•°ï¼ˆå¤–æ¥ Tool èŠ‚ç‚¹ï¼‰

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `use_tool` | boolean | å¦ | false | æ˜¯å¦å¯ç”¨å·¥å…·åŠŸèƒ½ |
| `tool_connected` | boolean | å¦ | false | æ˜¯å¦å·²è¿æ¥ Tool èŠ‚ç‚¹ |
| `tool_config.tool_type` | string | æ¡ä»¶ | - | å·¥å…·ç±»å‹ï¼š`code`ï¼ˆä»£ç å·¥å…·ï¼‰ã€`api`ï¼ˆAPIå·¥å…·ï¼‰ã€`custom`ï¼ˆè‡ªå®šä¹‰å·¥å…·ï¼‰ |
| `tool_config.tool_functions` | array | æ¡ä»¶ | - | å·¥å…·å‡½æ•°åˆ—è¡¨ï¼Œæ¯ä¸ªå‡½æ•°åŒ…å«ï¼š`name`ï¼ˆå‡½æ•°åï¼‰ã€`description`ï¼ˆæè¿°ï¼‰ã€`parameters`ï¼ˆå‚æ•°ï¼‰ |

**æ³¨æ„**ï¼šå¦‚æœ `use_tool` ä¸º `true`ï¼Œéœ€è¦è¿æ¥ Tool èŠ‚ç‚¹ï¼Œå¹¶é…ç½® `tool_config`ã€‚

---

### 5. æ¥å£è°ƒç”¨ç¤ºä¾‹

#### 5.1 Python ç¤ºä¾‹

```python
import requests

# æ‰§è¡Œ GPT Agent
response = requests.post(
    "http://localhost:8001/api/v1/gpt-agent/execute",
    json={
        "api_key": "sk-...",
        "model": "gpt-5",
        "system_prompt": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹",
        "input_content": [
            {
                "type": "input_text",
                "text": "è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š..."
            }
        ]
    }
)

result = response.json()
print(result["data"]["gpt_agent_response"]["content"])
```

#### 5.2 JavaScript/TypeScript ç¤ºä¾‹

```typescript
// æ‰§è¡Œ GPT Agent
const response = await fetch('/api/v1/gpt-agent/execute', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    api_key: 'sk-...',
    model: 'gpt-5',
    system_prompt: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹',
    input_content: [
      {
        type: 'input_text',
        text: 'è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š...'
      }
    ]
  })
})

const result = await response.json()
console.log(result.data.gpt_agent_response.content)
```

#### 5.3 cURL ç¤ºä¾‹

```bash
# æ‰§è¡Œ GPT Agent
curl -X POST "http://localhost:8001/api/v1/gpt-agent/execute" \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "sk-...",
    "model": "gpt-5",
    "system_prompt": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹",
    "input_content": [
      {
        "type": "input_text",
        "text": "è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š..."
      }
    ]
  }'
```

---

### 6. æ¥å£é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

#### 6.1 è¯·æ±‚é™åˆ¶
- **è¯·æ±‚å¤§å°**ï¼šæ ¹æ® OpenAI API é™åˆ¶ï¼ˆé€šå¸¸ä¸º 4MBï¼‰
- **Token é™åˆ¶**ï¼šæ ¹æ®æ¨¡å‹ç‰ˆæœ¬ï¼ˆgpt-5 é€šå¸¸æ”¯æŒæ›´å¤§çš„ä¸Šä¸‹æ–‡ï¼‰
- **è¯·æ±‚é¢‘ç‡**ï¼šæ ¹æ® OpenAI API é™åˆ¶ï¼ˆé€šå¸¸ä¸ºæ¯åˆ†é’Ÿ 60 æ¬¡ï¼‰

#### 6.2 æ³¨æ„äº‹é¡¹
1. **API Key å®‰å…¨**ï¼šAPI Key åº”è¯¥åŠ å¯†å­˜å‚¨ï¼Œä¸åœ¨æ—¥å¿—ä¸­æ˜¾ç¤º
2. **æ–‡ä»¶å¤§å°**ï¼šå¤§æ–‡ä»¶ä¸Šä¼ å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œå»ºè®®ä½¿ç”¨å¼‚æ­¥å¤„ç†
3. **Token é™åˆ¶**ï¼šæ³¨æ„å¤„ç†å¤§æ–‡ä»¶æ—¶çš„ Token é™åˆ¶ï¼Œä½¿ç”¨æ•°æ®å¤„ç†é…ç½®æ§åˆ¶
4. **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰æ¥å£éƒ½è¿”å›ç»Ÿä¸€çš„é”™è¯¯æ ¼å¼ï¼Œä¾¿äºé”™è¯¯å¤„ç†
5. **é‡è¯•æœºåˆ¶**ï¼šè‡ªåŠ¨é‡è¯•æœºåˆ¶å¯ä»¥å¤„ç†ä¸´æ—¶æ€§é”™è¯¯ï¼ˆå¦‚ç½‘ç»œè¶…æ—¶ï¼‰

#### 6.3 æœ€ä½³å®è·µ
1. **ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯**ï¼šæ˜ç¡®å®šä¹‰ Agent çš„è§’è‰²å’Œè¡Œä¸º
2. **åˆç†ä½¿ç”¨æ•°æ®å¤„ç†**ï¼šå¯¹äºå¤§æ•°æ®ï¼Œä½¿ç”¨ `smart` æ¨¡å¼è¿›è¡Œæ™ºèƒ½é‡‡æ ·
3. **æ–‡ä»¶ä¸Šä¼ **ï¼šå…ˆä¸Šä¼ æ–‡ä»¶è·å– `file_id`ï¼Œå†åœ¨è¯·æ±‚ä¸­ä½¿ç”¨
4. **é”™è¯¯å¤„ç†**ï¼šå®ç°å®Œå–„çš„é”™è¯¯å¤„ç†é€»è¾‘ï¼Œå¤„ç†å„ç§é”™è¯¯æƒ…å†µ
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯¹äºå¤§æ–‡ä»¶ï¼Œè€ƒè™‘å¼‚æ­¥å¤„ç†å’Œè¿›åº¦æ˜¾ç¤º

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ChatGPT Responses API æ–‡æ¡£](https://platform.openai.com/docs/guides/text)
- [OpenAI Files API æ–‡æ¡£](https://platform.openai.com/docs/api-reference/files)
- [MCP åè®®æ–‡æ¡£](https://modelcontextprotocol.io/)
- [AI Agent æ‰§è¡Œæµç¨‹](./AI_AGENT_EXECUTION_FLOW.md)

